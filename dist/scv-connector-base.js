/*! For license information please see scv-connector-base.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SCVConnectorBase",[],t):"object"==typeof exports?exports.SCVConnectorBase=t():e.SCVConnectorBase=t()}(this,()=>(()=>{var e={172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),E=[];for(var n in t)E.unshift(n);return function e(){for(;E.length;)if((n=E.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},546:e=>{function t(E,n,a,_){var T=Object.defineProperty;try{T({},"",{})}catch(E){T=0}e.exports=t=function(e,E,n,a){function _(E,n){t(e,E,function(e){return this._invoke(E,n,e)})}E?T?T(e,E,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[E]=n:(_("next",0),_("throw",1),_("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(E,n,a,_)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,E)=>{var n=E(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],E=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&E>=e.length&&(e=void 0),{value:e&&e[E++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},633:(e,t,E)=>{var n=E(172),a=E(993),_=E(869),T=E(887),r=E(791),o=E(373),i=E(579);function s(){"use strict";var t=a(),E=t.m(s),A=(Object.getPrototypeOf?Object.getPrototypeOf(E):E.__proto__).constructor;function c(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))}var l={throw:1,return:2,break:3,continue:3};function C(e){var t,E;return function(n){t||(t={stop:function(){return E(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return E(n.a,l[e],t)},delegateYield:function(e,a,_){return t.resultName=a,E(n.d,i(e),_)},finish:function(e){return E(n.f,e)}},E=function(e,E,a){n.p=t.prev,n.n=t.next;try{return e(E,a)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=s=function(){return{wrap:function(e,E,n,a){return t.w(C(e),E,n,a&&a.reverse())},isGeneratorFunction:c,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:r,async:function(e,t,E,n,a){return(c(t)?T:_)(C(e),t,E,n,a)},keys:o,values:i}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(E){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(E)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,E)=>{var n=E(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,E)=>{var n=E(172),a=E(546);e.exports=function e(t,E){function _(e,a,T,r){try{var o=t[e](a),i=o.value;return i instanceof n?E.resolve(i.v).then(function(e){_("next",e,T,r)},function(e){_("throw",e,T,r)}):E.resolve(i).then(function(e){o.value=e,T(o)},function(e){return _("throw",e,T,r)})}catch(e){r(e)}}var T;this.next||(a(e.prototype),a(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(e,t,n){function a(){return new E(function(t,E){_(e,n,t,E)})}return T=T?T.then(a,a):a()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,E)=>{var n=E(887);e.exports=function(e,t,E,a,_){var T=n(e,t,E,a,_);return T.next().then(function(e){return e.done?e.value:T.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,E)=>{var n=E(993),a=E(791);e.exports=function(e,t,E,_,T){return new a(n().w(e,t,E,_),T||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,E)=>{var n=E(546);function a(){var t,E,_="function"==typeof Symbol?Symbol:{},T=_.iterator||"@@iterator",r=_.toStringTag||"@@toStringTag";function o(e,a,_,T){var r=a&&a.prototype instanceof s?a:s,o=Object.create(r.prototype);return n(o,"_invoke",function(e,n,a){var _,T,r,o=0,s=a||[],A=!1,c={p:0,n:0,v:t,a:l,f:l.bind(t,4),d:function(e,E){return _=e,T=0,r=t,c.n=E,i}};function l(e,n){for(T=e,r=n,E=0;!A&&o&&!a&&E<s.length;E++){var a,_=s[E],l=c.p,C=_[2];e>3?(a=C===n)&&(r=_[(T=_[4])?5:(T=3,3)],_[4]=_[5]=t):_[0]<=l&&((a=e<2&&l<_[1])?(T=0,c.v=n,c.n=_[1]):l<C&&(a=e<3||_[0]>n||n>C)&&(_[4]=e,_[5]=n,c.n=C,T=0))}if(a||e>1)return i;throw A=!0,n}return function(a,s,C){if(o>1)throw TypeError("Generator is already running");for(A&&1===s&&l(s,C),T=s,r=C;(E=T<2?t:r)||!A;){_||(T?T<3?(T>1&&(c.n=-1),l(T,r)):c.n=r:c.v=r);try{if(o=2,_){if(T||(a="next"),E=_[a]){if(!(E=E.call(_,r)))throw TypeError("iterator result is not an object");if(!E.done)return E;r=E.value,T<2&&(T=0)}else 1===T&&(E=_.return)&&E.call(_),T<2&&(r=TypeError("The iterator does not provide a '"+a+"' method"),T=1);_=t}else if((E=(A=c.n<0)?r:e.call(n,c))!==i)break}catch(e){_=t,T=1,r=e}finally{o=1}}return{value:E,done:A}}}(e,_,T),!0),o}var i={};function s(){}function A(){}function c(){}E=Object.getPrototypeOf;var l=[][T]?E(E([][T]())):(n(E={},T,function(){return this}),E),C=c.prototype=s.prototype=Object.create(l);function N(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,n(e,r,"GeneratorFunction")),e.prototype=Object.create(C),e}return A.prototype=c,n(C,"constructor",c),n(c,"constructor",A),A.displayName="GeneratorFunction",n(c,r,"GeneratorFunction"),n(C),n(C,r,"Generator"),n(C,T,function(){return this}),n(C,"toString",function(){return"[object Generator]"}),(e.exports=a=function(){return{w:o,m:N}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function E(n){var a=t[n];if(void 0!==a)return a.exports;var _=t[n]={exports:{}};return e[n](_,_.exports,E),_.exports}E.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return E.d(t,{a:t}),t},E.d=(e,t)=>{for(var n in t)E.o(t,n)&&!E.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},E.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),E.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var E=function(t){if("object"!=e(t)||!t)return t;var E=t[Symbol.toPrimitive];if(void 0!==E){var n=E.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(E)?E:E+""}function a(e,E,n){return(E=t(E))in e?Object.defineProperty(e,E,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[E]=n,e}function _(e,t,E,n,a,_,T){try{var r=e[_](T),o=r.value}catch(e){return void E(e)}r.done?t(o):Promise.resolve(o).then(n,a)}function T(e){return function(){var t=this,E=arguments;return new Promise(function(n,a){var T=e.apply(t,E);function r(e){_(T,n,a,r,o,"next",e)}function o(e){_(T,n,a,r,o,"throw",e)}r(void 0)})}}E.r(n),E.d(n,{ACWInfo:()=>he,ActiveCallsResult:()=>k,AgentConfig:()=>q,AgentConfigResult:()=>K,AgentStatusInfo:()=>Oe,AgentVendorStatusInfo:()=>Re,AgentWork:()=>Ne,AudioDevicesResult:()=>F,AudioStats:()=>Ie,AudioStatsElement:()=>Pe,CallInfo:()=>oe,CallResult:()=>z,Constants:()=>m,Contact:()=>ie,ContactsFilter:()=>Ve,ContactsResult:()=>J,CustomError:()=>M,DialOptions:()=>ne,GenericResult:()=>ae,HangupResult:()=>Z,HidDevice:()=>B,HoldToggleResult:()=>ee,InitResult:()=>Ee,LogoutResult:()=>re,MuteToggleResult:()=>w,ParticipantResult:()=>X,Phone:()=>x,PhoneCall:()=>Ae,PhoneCallAttributes:()=>se,PhoneContactsResult:()=>$,RecordingToggleResult:()=>Q,SetAgentConfigResult:()=>Te,SetAgentStateResult:()=>_e,SharedCapabilitiesResult:()=>j,ShowStorageAccessResult:()=>De,SignedRecordingUrlResult:()=>te,StateChangeResult:()=>Se,StatsInfo:()=>de,SuperviseCallResult:()=>Le,SupervisedCallInfo:()=>ue,SupervisorHangupResult:()=>pe,TelephonyConnector:()=>ce,VendorConnector:()=>le,VoiceCapabilitiesResult:()=>W,initializeConnector:()=>Je,log:()=>D,publishError:()=>ze,publishEvent:()=>Ze,publishLog:()=>$e});var r=E(756),o=E.n(r);const i={SHARED_MESSAGE_TYPE:{SETUP_CONNECTOR:"SETUP_CONNECTOR",CONNECTOR_READY:"CONNECTOR_READY",LOG:"LOG",TELEPHONY_EVENT_DISPATCHED:"TELEPHONY_EVENT_DISPATCHED",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",LOGOUT:"LOGOUT",MESSAGE:"MESSAGE",DOWNLOAD_VENDOR_LOGS:"DOWNLOAD_VENDOR_LOGS",AGENT_WORK_EVENT:"AGENT_WORK_EVENT",GET_CONTACTS:"GET_CONTACTS"},VOICE_MESSAGE_TYPE:{ACCEPT_CALL:"ACCEPT_CALL",DECLINE_CALL:"DECLINE_CALL",END_CALL:"END_CALL",MUTE:"MUTE",UNMUTE:"UNMUTE",HOLD:"HOLD",RESUME:"RESUME",DIAL:"DIAL",SEND_DIGITS:"SEND_DIGITS",GET_PHONE_CONTACTS:"GET_PHONE_CONTACTS",SWAP_PARTICIPANTS:"SWAP_PARTICIPANTS",ADD_PARTICIPANT:"ADD_PARTICIPANT",CONFERENCE:"CONFERENCE",PAUSE_RECORDING:"PAUSE_RECORDING",RESUME_RECORDING:"RESUME_RECORDING",SUPERVISE_CALL:"SUPERVISE_CALL",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",SUPERVISOR_DISCONNECT:"SUPERVISOR_DISCONNECT",SET_AGENT_CONFIG:"SET_AGENT_CONFIG",GET_SIGNED_RECORDING_URL:"GET_SIGNED_RECORDING_URL",WRAP_UP_CALL:"WRAP_UP_CALL",AGENT_AVAILABLE:"AGENT_AVAILABLE",GET_AUDIO_DEVICES:"GET_AUDIO_DEVICES"},SHARED_EVENT_TYPE:{ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",LOGIN_STARTED:"LOGIN_STARTED",LOGIN_RESULT:"LOGIN_RESULT",LOGOUT_RESULT:"LOGOUT_RESULT",SHOW_LOGIN:"SHOW_LOGIN",SET_AGENT_STATUS_RESULT:"SET_AGENT_STATUS_RESULT",GET_AGENT_STATUS_RESULT:"GET_AGENT_STATUS_RESULT",MESSAGE:"MESSAGE",SET_AGENT_STATUS:"SET_AGENT_STATUS",GET_AGENT_STATUS:"GET_AGENT_STATUS",STATE_CHANGE:"STATE_CHANGE",REMOTE_CONTROLLER:"REMOTE_CONTROLLER",SHOW_STORAGE_ACCESS:"SHOW_STORAGE_ACCESS",STORAGE_ACCESS_RESULT:"STORAGE_ACCESS_RESULT",GET_CONTACTS_RESULT:"GET_CONTACTS_RESULT",AFTER_CONVERSATION_WORK_STARTED:"AFTER_CONVERSATION_WORK_STARTED",AFTER_CONVERSATION_WORK_ENDED:"AFTER_CONVERSATION_WORK_ENDED"},VOICE_EVENT_TYPE:{QUEUED_CALL_STARTED:"QUEUED_CALL_STARTED",CALL_STARTED:"CALL_STARTED",CALL_CONNECTED:"CALL_CONNECTED",CALL_FAILED:"CALL_FAILED",MUTE_TOGGLE:"MUTE_TOGGLE",HOLD_TOGGLE:"HOLD_TOGGLE",PHONE_CONTACTS:"PHONE_CONTACTS",PARTICIPANT_ADDED:"PARTICIPANT_ADDED",PARTICIPANT_CONNECTED:"PARTICIPANT_CONNECTED",PARTICIPANT_REMOVED:"PARTICIPANT_REMOVED",RECORDING_TOGGLE:"RECORDING_TOGGLE",PARTICIPANTS_SWAPPED:"PARTICIPANTS_SWAPPED",PARTICIPANTS_CONFERENCED:"PARTICIPANTS_CONFERENCED",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",UPDATE_AUDIO_STATS:"UPDATE_AUDIO_STATS",UPDATE_AUDIO_STATS_COMPLETED:"UPDATE_AUDIO_STATS_COMPLETED",SUPERVISOR_BARGED_IN:"SUPERVISOR_BARGED_IN",SUPERVISOR_CALL_STARTED:"SUPERVISOR_CALL_STARTED",SUPERVISOR_CALL_CONNECTED:"SUPERVISOR_CALL_CONNECTED",SUPERVISOR_HANGUP:"SUPERVISOR_HANGUP",CALL_BARGED_IN:"CALL_BARGED_IN",WRAP_UP_ENDED:"WRAP_UP_ENDED",AFTER_CALL_WORK_STARTED:"AFTER_CALL_WORK_STARTED",AGENT_CONFIG_UPDATED:"AGENT_CONFIG_UPDATED",AGENT_ERROR:"AGENT_ERROR",HANGUP:"HANGUP",SOFTPHONE_ERROR:"SOFTPHONE_ERROR",SHOW_TRANSFER_VIEW:"SHOW_TRANSFER_VIEW",GET_AUDIO_DEVICES:"GET_AUDIO_DEVICES",AUDIO_STATS:"AUDIO_STATS",CALL_UPDATED:"CALL_UPDATED"},INFO_TYPE:{CAN_NOT_ACCEPT_THE_CALL:"CAN_NOT_ACCEPT_THE_CALL"},SHARED_ERROR_TYPE:{CUSTOM_ERROR:"CUSTOM_ERROR",GENERIC_ERROR:"GENERIC_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",INVALID_AGENT_STATUS:"INVALID_AGENT_STATUS",CAN_NOT_GET_AGENT_STATUS:"CAN_NOT_GET_AGENT_STATUS",CAN_NOT_SET_AGENT_STATUS:"CAN_NOT_SET_AGENT_STATUS",LOGIN_REQUIRED:"LOGIN_REQUIRED",CAN_NOT_LOG_IN:"CAN_NOT_LOG_IN",CAN_NOT_LOG_OUT:"CAN_NOT_LOG_OUT",INVALID_STATE_CHANGE_RESULT:"INVALID_STATE_CHANGE_RESULT",INVALID_STORAGE_ACCESS_RESULT:"INVALID_STORAGE_ACCESS_RESULT",INVALID_ACW_INFO:"INVALID_ACW_INFO"},VOICE_ERROR_TYPE:{CAN_NOT_DECLINE_THE_CALL:"CAN_NOT_DECLINE_THE_CALL",CAN_NOT_END_THE_CALL:"CAN_NOT_END_THE_CALL",CAN_NOT_HOLD_CALL:"CAN_NOT_HOLD_CALL",CAN_NOT_RESUME_CALL:"CAN_NOT_RESUME_CALL",CAN_NOT_MUTE_CALL:"CAN_NOT_MUTE_CALL",CAN_NOT_UNMUTE_CALL:"CAN_NOT_UNMUTE_CALL",CAN_NOT_TOGGLE_MUTE:"CAN_NOT_TOGGLE_MUTE",CAN_NOT_TOGGLE_HOLD:"CAN_NOT_TOGGLE_HOLD",CAN_NOT_TOGGLE_RECORD:"CAN_NOT_TOGGLE_RECORD",INVALID_PARTICIPANT:"INVALID_PARTICIPANT",INVALID_PARAMS:"INVALID_PARAMS",CAN_NOT_GET_PHONE_CONTACTS:"CAN_NOT_GET_PHONE_CONTACTS",CAN_NOT_SWAP_PARTICIPANTS:"CAN_NOT_SWAP_PARTICIPANTS",CAN_NOT_CONFERENCE:"CAN_NOT_CONFERENCE",INVALID_DESTINATION:"INVALID_DESTINATION",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",CAN_NOT_HANGUP_PARTICIPANT:"CAN_NOT_HANGUP_PARTICIPANT",CAN_NOT_ADD_PARTICIPANT:"CAN_NOT_ADD_PARTICIPANT",CAN_NOT_CONNECT_PARTICIPANT:"CAN_NOT_CONNECT_PARTICIPANT",CAN_NOT_START_THE_CALL:"CAN_NOT_START_THE_CALL",CAN_NOT_PAUSE_RECORDING:"CAN_NOT_PAUSE_RECORDING",CAN_NOT_RESUME_RECORDING:"CAN_NOT_RESUME_RECORDING",CAN_NOT_SET_AGENT_CONFIG:"CAN_NOT_SET_AGENT_CONFIG",CAN_NOT_SET_CAPABILITIES:"CAN_NOT_SET_CAPABILITIES",CAN_NOT_UPDATE_PHONE_NUMBER:"CAN_NOT_UPDATE_PHONE_NUMBER",CAN_NOT_GET_SIGNED_RECORDING_URL:"CAN_NOT_GET_SIGNED_RECORDING_URL",CAN_NOT_SUPERVISE_CALL:"CAN_NOT_SUPERVISE_CALL",CAN_NOT_DISCONNECT_SUPERVISOR:"CAN_NOT_DISCONNECT_SUPERVISOR",CAN_NOT_BARGE_IN_SUPERVISOR:"CAN_NOT_BARGE_IN_SUPERVISOR",CAN_NOT_BARGE_IN_CALL:"CAN_NOT_BARGE_IN_CALL",AGENT_ERROR:"AGENT_ERROR",MICROPHONE_NOT_SHARED:"MICROPHONE_NOT_SHARED",UNSUPPORTED_BROWSER:"UNSUPPORTED_BROWSER",USER_BUSY_ERROR:"USER_BUSY_ERROR",WEBRTC_ERROR:"WEBRTC_ERROR",CAN_NOT_GET_AUDIO_DEVICES:"CAN_NOT_GET_AUDIO_DEVICES",CAN_NOT_UPDATE_CALL:"CAN_NOT_UPDATE_CALL"},AGENT_STATUS:{ONLINE:"Online",OFFLINE:"Offline",ACW:"AfterCallWork"},PARTICIPANT_TYPE:{AGENT:"Agent",INITIAL_CALLER:"Initial_Caller",THIRD_PARTY:"Third_Party",SUPERVISOR:"Supervisor"},CALL_TYPE:{INBOUND:"Inbound",OUTBOUND:"Outbound",CALLBACK:"Callback",ADD_PARTICIPANT:"AddParticipant",TRANSFER:"Transfer",INTERNAL_CALL:"InternalCall",DIALED_CALLBACK:"DialedCallback",CONSULT:"Consult"},CALL_SUBTYPE:{PSTN:"PSTN",WEB_RTC:"WebRTC"},DIALER_TYPE:{OUTBOUND_PREVIEW:"OutboundPreview",NONE:"None"},CONTACT_TYPE:{PHONEBOOK:"PhoneBook",QUEUE:"Queue",PHONENUMBER:"PhoneNumber",AGENT:"Agent",FLOW:"Flow"},CONTACT_LIST_TYPE:{TRANSFER:"Transfer",CONFERENCE:"Conference",ALL:"All"},AGENT_CONFIG_TYPE:{SHOW_AGENT_SETTINGS:"SHOW_AGENT_SETTINGS",PHONES:"PHONES",SELECTED_PHONE:"SELECTED_PHONE"},SHARED_CAPABILITIES_TYPE:{DEBUG_ENABLED:"DEBUG_ENABLED",CONTACT_SEARCH:"CONTACT_SEARCH",VENDOR_PROVIDED_AVAILABILITY:"VENDOR_PROVIDED_AVAILABILITY",VENDOR_PROVIDED_QUEUE_WAIT_TIME:"VENDOR_PROVIDED_QUEUE_WAIT_TIME",TRANSFER_TO_OMNI_FLOW:"TRANSFER_TO_OMNI_FLOW",PENDING_STATUS_CHANGE:"PENDING_STATUS_CHANGE",SFDC_PENDING_STATE:"SFDC_PENDING_STATE",AUTO_ACCEPT_ENABLED:"AUTO_ACCEPT_ENABLED"},VOICE_CAPABILITIES_TYPE:{MUTE:"MUTE",RECORD:"RECORD",MERGE:"MERGE",SWAP:"SWAP",BLIND_TRANSFER:"BLIND_TRANSFER",SIGNED_RECORDING_URL:"SIGNED_RECORDING_URL",SUPERVISOR_LISTEN_IN:"SUPERVISOR_LISTEN_IN",SUPERVISOR_BARGE_IN:"SUPERVISOR_BARGE_IN",MOS:"MOS",PHONEBOOK:"PHONEBOOK",HAS_GET_EXTERNAL_SPEAKER:"HAS_GET_EXTERNAL_SPEAKER",HAS_SET_EXTERNAL_SPEAKER:"HAS_SET_EXTERNAL_SPEAKER",HAS_GET_EXTERNAL_MICROPHONE:"HAS_GET_EXTERNAL_MICROPHONE",HAS_SET_EXTERNAL_MICROPHONE:"HAS_SET_EXTERNAL_MICROPHONE",CAN_CONSULT:"CAN_CONSULT",DIAL_PAD:"DIAL_PAD",HAS_HID_SUPPORT:"HAS_HID_SUPPORT",PHONEBOOK_DISABLE:"PHONEBOOK_DISABLE"},CALL_STATE:{RINGING:"ringing",CONNECTED:"connected",TRANSFERRING:"transferring",TRANSFERRED:"transferred",ENDED:"ended"},PHONE_TYPE:{DESK_PHONE:"DESK_PHONE",SOFT_PHONE:"SOFT_PHONE"},HANGUP_REASON:{PHONE_CALL_ERROR:"error",PHONE_CALL_ENDED:"ended"},AGENT_AVAILABILITY:{AVAILABLE:"AVAILABLE",BUSY:"BUSY",OFFLINE:"OFFLINE"},REMOVE_PARTICIPANT_VARIANT:{ALWAYS:"ALWAYS",NEVER:"NEVER",ALWAYS_EXCEPT_ON_HOLD:"ALWAYS_EXCEPT_ON_HOLD"},LOG_LEVEL:{ERROR:"ERROR",INFO:"INFO"},LOG_SOURCE:{SYSTEM:"SYSTEM",PARTNER:"PARTNER"},CONTACTS_FILTER_TYPES:{AGENT:"AGENT",QUEUE:"QUEUE",CONTACT:"CONTACT",DIRECTORY:"DIRECTORY",FLOW:"FLOW",AVAILABLE:"AVAILABLE"},WORK_EVENT:{ASSIGNED:"ASSIGNED",ACCEPTED:"ACCEPTED",DECLINED:"DECLINED",COMPLETED:"COMPLETED",CLOSED:"CLOSED",PAUSED:"PAUSED",UNPAUSED:"UNPAUSED"},DIAL_OPTIONS:{CALLBACK:"isCallback=true",CONSULT:"isConsultCall"},HANGUP_STATUS:{MISSED_AGENT:"MissedCallAgent",DECLINED:"DeclinedByAgent",FAILED_CONNECT_AGENT:"FailedConnectAgent",FAILED_CONNECT_CUSTOMER:"FailedConnectCustomer",CALLBACK_MISSED_OR_REJECTED:"CallbackMissedOrRejected"}};var s=["/internalNameLabel","/reqGeneralInfo/reqAdapterUrl","/reqGeneralInfo/reqVendorInfoApiName","isACWAllowed","isHVSEnabled","orgDomainName","phoneServiceChannelId","telephonySettingsComponentFqn"],A=["/reqHvcc"],c=["/reqHvcc/reqTelephonyIntegrationCertificate"];function l(e,E){for(var n=0;n<E.length;n++){var a=E[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t(a.key),a)}}function C(e,t,E){return t&&l(e.prototype,t),E&&l(e,E),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function I(e){var t="function"==typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,E)}function E(){return function(e,t,E){if(u())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var a=new(e.bind.apply(e,n));return E&&R(a,E.prototype),a}(e,arguments,O(this).constructor)}return E.prototype=Object.create(e.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),R(E,e)},I(e)}var P=75e5,d=function(e){return"string"==typeof e?e:JSON.stringify(e)},L=0,p=[];function D(e,t,E){!function(e,t,E){if(!t)throw new Error("Log Message required");e=e||i.LOG_LEVEL.INFO,E=E||i.LOG_SOURCE.PARTNER;var n=[(new Date).toISOString(),d(e),d(E),"".concat(d(t),"\n")].join("|");L+n.length>=P&&(p=[],L=0),L+=n.length,p.push(n)}(t,e,E)}function V(){return JSON.parse(JSON.stringify(p))}function h(){!function(e,t){if(document&&e){var E="string"==typeof e?e:JSON.stringify(e),n=new Blob([E],{type:"text/plain"}),a=document.createElement("a"),_=URL.createObjectURL(n);a.download=t,a.href=_,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(_)}}(p.join(""),"log-".concat((new Date).getTime(),".txt"))}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var E=0,n=Array(t);E<t;E++)n[E]=e[E];return n}function f(t,E,n){return E=O(E),function(t,E){if(E&&("object"==e(E)||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,G()?Reflect.construct(E,n||[],O(t).constructor):E.apply(t,n))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(G=function(){return!!e})()}function Y(e,t){var E=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),E.push.apply(E,n)}return E}function b(e){for(var t=1;t<arguments.length;t++){var E=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(E),!0).forEach(function(t){a(e,t,E[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(E)):Y(Object(E)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(E,t))})}return e}var U,g,y,H,m={SHARED_EVENT_TYPE:{LOGIN_RESULT:i.SHARED_EVENT_TYPE.LOGIN_RESULT,LOGOUT_RESULT:i.SHARED_EVENT_TYPE.LOGOUT_RESULT,MESSAGE:i.SHARED_EVENT_TYPE.MESSAGE,SET_AGENT_STATUS:i.SHARED_EVENT_TYPE.SET_AGENT_STATUS,GET_AGENT_STATUS:i.SHARED_EVENT_TYPE.GET_AGENT_STATUS,STATE_CHANGE:i.SHARED_EVENT_TYPE.STATE_CHANGE,STORAGE_ACCESS_RESULT:i.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT,GET_CONTACTS_RESULT:i.SHARED_EVENT_TYPE.GET_CONTACTS_RESULT,AFTER_CONVERSATION_WORK_STARTED:i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED,AFTER_CONVERSATION_WORK_ENDED:i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED},VOICE_EVENT_TYPE:{CALL_STARTED:i.VOICE_EVENT_TYPE.CALL_STARTED,QUEUED_CALL_STARTED:i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,CALL_CONNECTED:i.VOICE_EVENT_TYPE.CALL_CONNECTED,HANGUP:i.VOICE_EVENT_TYPE.HANGUP,MUTE_TOGGLE:i.VOICE_EVENT_TYPE.MUTE_TOGGLE,HOLD_TOGGLE:i.VOICE_EVENT_TYPE.HOLD_TOGGLE,RECORDING_TOGGLE:i.VOICE_EVENT_TYPE.RECORDING_TOGGLE,PARTICIPANTS_SWAPPED:i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED,PARTICIPANTS_CONFERENCED:i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED,PARTICIPANT_ADDED:i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,PARTICIPANT_CONNECTED:i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,PARTICIPANT_REMOVED:i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,AFTER_CALL_WORK_STARTED:i.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED,WRAP_UP_ENDED:i.VOICE_EVENT_TYPE.WRAP_UP_ENDED,AGENT_ERROR:i.VOICE_EVENT_TYPE.AGENT_ERROR,SOFTPHONE_ERROR:i.VOICE_EVENT_TYPE.SOFTPHONE_ERROR,UPDATE_AUDIO_STATS:i.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS,CALL_BARGED_IN:i.VOICE_EVENT_TYPE.CALL_BARGED_IN,SUPERVISOR_BARGED_IN:i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,SUPERVISOR_CALL_STARTED:i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,SUPERVISOR_CALL_CONNECTED:i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,SUPERVISOR_HANGUP:i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,SHOW_TRANSFER_VIEW:i.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW,AUDIO_STATS:i.VOICE_EVENT_TYPE.AUDIO_STATS,CALL_UPDATED:i.VOICE_EVENT_TYPE.CALL_UPDATED},SHARED_ERROR_TYPE:{GENERIC_ERROR:i.SHARED_ERROR_TYPE.GENERIC_ERROR,INVALID_AGENT_STATUS:i.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS},VOICE_ERROR_TYPE:{INVALID_PARTICIPANT:i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,INVALID_DESTINATION:i.VOICE_ERROR_TYPE.INVALID_DESTINATION,CAN_NOT_UPDATE_PHONE_NUMBER:i.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER,INVALID_PARAMS:i.VOICE_ERROR_TYPE.INVALID_PARAMS},AGENT_STATUS:b({},i.AGENT_STATUS),PARTICIPANT_TYPE:b({},i.PARTICIPANT_TYPE),CALL_TYPE:b({},i.CALL_TYPE),CALL_SUBTYPE:b({},i.CALL_SUBTYPE),DIALER_TYPE:b({},i.DIALER_TYPE),CONTACT_TYPE:b({},i.CONTACT_TYPE),CONTACT_LIST_TYPE:b({},i.CONTACT_LIST_TYPE),CALL_STATE:b({},i.CALL_STATE),HANGUP_REASON:b({},i.HANGUP_REASON),PHONE_TYPE:b({},i.PHONE_TYPE),AGENT_AVAILABILITY:b({},i.AGENT_AVAILABILITY),REMOVE_PARTICIPANT_VARIANT:b({},i.REMOVE_PARTICIPANT_VARIANT),LOG_LEVEL:b({},i.LOG_LEVEL),CONTACTS_FILTER_TYPES:b({},i.CONTACTS_FILTER_TYPES),WORK_EVENT:b({},i.WORK_EVENT),HANGUP_STATUS:b({},i.HANGUP_STATUS)},M=function(e){function t(e){var E,n=e.labelName,a=e.namespace,_=e.message;return N(this,t),E=f(this,t,[_]),Ce.validateString(n),Ce.validateString(a),_&&Ce.validateString(_),E.labelName=n,E.namespace=a,E.message=_,E}return S(t,e),C(t)}(I(Error)),x=C(function e(t){var E=t.type,n=t.number;N(this,e),Ce.validateEnum(E,Object.values(i.PHONE_TYPE)),n&&Ce.validateString(n),this.type=E,this.number=n}),B=C(function e(t){var E=t.productId,n=t.vendorId;N(this,e),E&&Ce.validateNumber(E),n&&Ce.validateNumber(n),this.productId=E,this.vendorId=n}),w=C(function e(t){var E=t.isMuted,n=t.call,a=t.isGlobal;N(this,e),this.isMuted=E,this.call=n,this.isGlobal=a}),k=C(function e(t){var E=t.activeCalls,n=void 0===E?[]:E;N(this,e),n.length>0&&n.forEach(function(e){Ce.validateClassObject(e,Ae)}),this.activeCalls=n}),F=C(function e(t){var E=t.audioDevices,n=void 0===E?[]:E;N(this,e),this.audioDevices=n}),j=C(function e(t){var E=t.debugEnabled,n=void 0===E||E,a=t.hasContactSearch,_=void 0!==a&&a,T=t.hasAgentAvailability,r=void 0!==T&&T,o=t.hasQueueWaitTime,i=void 0!==o&&o,s=t.hasTransferToOmniFlow,A=void 0!==s&&s,c=t.hasPendingStatusChange,l=void 0!==c&&c,C=t.hasSFDCPendingState,O=void 0!==C&&C,R=t.hasAutoAcceptEnabled,S=void 0!==R&&R;N(this,e),Ce.validateBoolean(n),Ce.validateBoolean(_),Ce.validateBoolean(r),Ce.validateBoolean(i),Ce.validateBoolean(A),Ce.validateBoolean(l),Ce.validateBoolean(O),Ce.validateBoolean(S),this.debugEnabled=n,this.hasContactSearch=_,this.hasAgentAvailability=r,this.hasQueueWaitTime=i,this.hasTransferToOmniFlow=A,this.hasPendingStatusChange=l,this.hasSFDCPendingState=O,this.hasAutoAcceptEnabled=S}),W=C(function e(t){var E=t.hasMute,n=void 0===E||E,a=t.hasRecord,_=void 0===a||a,T=t.hasMerge,r=void 0===T||T,o=t.hasSwap,i=void 0===o||o,s=t.hasBlindTransfer,A=void 0!==s&&s,c=t.hasSignedRecordingUrl,l=void 0!==c&&c,C=t.supportsMos,O=void 0!==C&&C,R=t.hasSupervisorListenIn,S=void 0!==R&&R,u=t.hasSupervisorBargeIn,I=void 0!==u&&u,P=t.hasPhoneBook,d=void 0!==P&&P,L=t.hasGetExternalSpeakerDeviceSetting,p=void 0!==L&&L,D=t.hasSetExternalSpeakerDeviceSetting,V=void 0!==D&&D,h=t.hasGetExternalMicrophoneDeviceSetting,v=void 0!==h&&h,f=t.hasSetExternalMicrophoneDeviceSetting,G=void 0!==f&&f,Y=t.canConsult,b=void 0!==Y&&Y,U=t.isDialPadDisabled,g=void 0!==U&&U,y=t.isHidSupported,H=void 0!==y&&y,m=t.isPhoneBookDisabled,M=void 0!==m&&m;N(this,e),Ce.validateBoolean(n),Ce.validateBoolean(_),Ce.validateBoolean(r),Ce.validateBoolean(i),Ce.validateBoolean(A),Ce.validateBoolean(l),Ce.validateBoolean(O),Ce.validateBoolean(S),Ce.validateBoolean(I),Ce.validateBoolean(d),Ce.validateBoolean(p),Ce.validateBoolean(V),Ce.validateBoolean(v),Ce.validateBoolean(G),Ce.validateBoolean(b),Ce.validateBoolean(g),Ce.validateBoolean(H),Ce.validateBoolean(M),this.hasMute=n,this.hasRecord=_,this.hasMerge=r,this.hasSwap=i,this.hasBlindTransfer=A,this.hasSignedRecordingUrl=l,this.supportsMos=O,this.hasSupervisorListenIn=S,this.hasSupervisorBargeIn=I,this.hasPhoneBook=d,this.hasGetExternalSpeakerDeviceSetting=p,this.hasSetExternalSpeakerDeviceSetting=V,this.hasGetExternalMicrophoneDeviceSetting=v,this.hasSetExternalMicrophoneDeviceSetting=G,this.canConsult=b,this.isDialPadDisabled=g,this.isHidSupported=H,this.isPhoneBookDisabled=M}),K=C(function e(t){var E=t.phones,n=void 0===E?[i.PHONE_TYPE.SOFT_PHONE]:E,a=t.selectedPhone,_=void 0===a?new x({type:i.PHONE_TYPE.SOFT_PHONE}):a,T=t.speakerDeviceId,r=void 0===T?"":T,o=t.microphoneDeviceId,s=void 0===o?"":o;N(this,e),Ce.validateClassObject(n,Array),Ce.validateClassObject(_,x),Ce.validateString(r),Ce.validateString(s),this.phones=n,this.selectedPhone=_,this.speakerDeviceId=r,this.microphoneDeviceId=s}),q=C(function e(t){var E=t.selectedPhone,n=t.speakerDeviceId,a=t.microphoneDeviceId,_=t.hidDeviceInfo;N(this,e),Ce.validateClassObject(E,x),void 0!==_&&Ce.validateClassObject(_,B),this.selectedPhone=E,this.speakerDeviceId=n,this.microphoneDeviceId=a,this.hidDeviceInfo=_}),Q=C(function e(t){var E=t.isRecordingPaused,n=t.contactId,a=void 0===n?null:n,_=t.initialContactId,T=void 0===_?null:_,r=t.instanceId,o=void 0===r?null:r,i=t.region,s=void 0===i?null:i;N(this,e),this.isRecordingPaused=E,this.contactId=a,this.initialContactId=T,this.instanceId=o,this.region=s}),X=C(function e(t){var E=t.initialCallHasEnded,n=t.callInfo,a=t.callAttributes,_=t.phoneNumber,T=t.callId,r=t.contact,o=void 0===r?null:r,i=t.connectionId;N(this,e),Ce.validateClassObject(n,oe),this.initialCallHasEnded=E,this.callInfo=n,this.callAttributes=a,this.phoneNumber=_,this.callId=T,this.contact=o,this.connectionId=i||T}),J=C(function e(t){var E=t.contacts,n=void 0===E?[]:E,a=t.contactTypes,_=void 0===a?[]:a;N(this,e),n.length>0&&n.forEach(function(e){Ce.validateClassObject(e,ie)}),_.length>0&&_.forEach(function(e){Ce.validateEnum(e,Object.values(i.CONTACT_TYPE))}),this.contacts=n,this.contactTypes=_}),$=function(e){function t(e){var E=e.contacts,n=void 0===E?[]:E,a=e.contactTypes,_=void 0===a?[]:a;return N(this,t),f(this,t,[{contacts:n,contactTypes:_}])}return S(t,e),C(t)}(J),z=C(function e(t){var E=t.call;N(this,e),void 0!==E&&Ce.validateClassObject(E,Ae),this.call=E}),Z=C(function e(t){var E=t.calls;N(this,e),E instanceof Array?(E.forEach(function(e){return Ce.validateClassObject(e,Ae)}),this.calls=E):(Ce.validateClassObject(E,Ae),this.calls=[E])}),ee=C(function e(t){var E=t.isThirdPartyOnHold,n=t.isCustomerOnHold,a=t.calls,_=t.isCallMerged;N(this,e),a&&(Object.values(a).forEach(function(e){Ce.validateClassObject(e,Ae)}),this.calls=a),this.isThirdPartyOnHold=E,this.isCustomerOnHold=n,this.isCallMerged=_}),te=C(function e(t){var E=t.success,n=t.url,a=t.duration,_=t.callId;N(this,e),E&&(Ce.validateString(n),Ce.validateString(_),a&&Ce.validateNumber(a)),this.success=E,this.url=n,this.duration=a,this.callId=_}),Ee=C(function e(t){var E=t.showLogin,n=void 0!==E&&E,a=t.loginFrameHeight,_=void 0===a?350:a,T=t.isSilentLogin,r=void 0!==T&&T,o=t.showStorageAccess,i=void 0!==o&&o;N(this,e),this.showLogin=n,this.loginFrameHeight=_,this.isSilentLogin=!this.showLogin&&r,this.showStorageAccess=i}),ne=C(function e(t){var E=t.isCallback,n=void 0!==E&&E,a=t.isConsultCall,_=void 0!==a&&a;N(this,e),this.isCallback=n,this.isConsultCall=_}),ae=C(function e(t){var E=t.success;N(this,e),this.success=E}),_e=function(e){function t(e){var E,n=e.success,a=e.isStatusSyncNeeded,_=void 0===a||a;return N(this,t),(E=f(this,t,[{success:n}])).isStatusSyncNeeded=_,E}return S(t,e),C(t)}(ae),Te=function(e){function t(e){var E,n=e.success,a=e.isSystemEvent,_=void 0!==a&&a;return N(this,t),(E=f(this,t,[{success:n}])).isSystemEvent=_,E}return S(t,e),C(t,[{key:"setIsSystemEvent",value:function(e){this.isSystemEvent=e}}])}(ae),re=C(function e(t){var E=t.success,n=t.loginFrameHeight,a=void 0===n?350:n;N(this,e),this.success=E,this.loginFrameHeight=a}),oe=C(function e(t){var E=t.callStateTimestamp,n=void 0===E?null:E,a=t.isOnHold,_=t.isMuted,T=void 0!==_&&_,r=t.isRecordingPaused,o=void 0!==r&&r,s=t.initialCallId,A=t.queueId,c=void 0===A?null:A,l=t.queueName,C=void 0===l?null:l,O=t.queueTimestamp,R=void 0===O?null:O,S=t.isSoftphoneCall,u=void 0===S||S,I=t.acceptEnabled,P=void 0===I||I,d=t.declineEnabled,L=void 0===d||d,p=t.muteEnabled,D=void 0===p||p,V=t.swapEnabled,h=void 0===V||V,v=t.conferenceEnabled,f=void 0===v||v,G=t.holdEnabled,Y=void 0===G||G,b=t.recordEnabled,U=void 0===b||b,g=t.addCallerEnabled,y=void 0===g||g,H=t.extensionEnabled,M=void 0===H||H,x=t.isReplayable,B=void 0===x||x,w=t.isBargeable,k=void 0!==w&&w,F=t.isExternalTransfer,j=t.showMuteButton,W=void 0===j||j,K=t.showRecordButton,q=void 0===K||K,Q=t.showAddCallerButton,X=void 0===Q||Q,J=t.showAddBlindTransferButton,$=void 0===J||J,z=t.showMergeButton,Z=void 0===z||z,ee=t.showSwapButton,te=void 0===ee||ee,Ee=t.removeParticipantVariant,ne=void 0===Ee?m.REMOVE_PARTICIPANT_VARIANT.ALWAYS:Ee,ae=t.additionalFields,_e=void 0===ae?null:ae,Te=t.isMultiParty,re=void 0!==Te&&Te,oe=t.isHIDCall,ie=void 0!==oe&&oe,se=t.endCallDisabled,Ae=void 0!==se&&se,ce=t.renderContactId,le=void 0===ce?null:ce;N(this,e),n&&Ce.validateDate(n),R&&Ce.validateDate(R),c&&Ce.validateString(c),C&&Ce.validateString(C),Ce.validateBoolean(o),Ce.validateBoolean(T),Ce.validateBoolean(u),Ce.validateBoolean(P),Ce.validateBoolean(L),Ce.validateBoolean(D),Ce.validateBoolean(h),Ce.validateBoolean(f),Ce.validateBoolean(Y),Ce.validateBoolean(U),Ce.validateBoolean(y),Ce.validateBoolean(M),Ce.validateBoolean(k),Ce.validateBoolean(W),Ce.validateBoolean(q),Ce.validateBoolean(X),Ce.validateBoolean($),Ce.validateBoolean(Z),Ce.validateBoolean(te),Ce.validateBoolean(ie),Ce.validateBoolean(Ae),void 0!==F&&Ce.validateBoolean(F),Ce.validateEnum(ne,Object.values(i.REMOVE_PARTICIPANT_VARIANT)),_e&&Ce.validateString(_e),Ce.validateBoolean(re),le&&Ce.validateString(le),this.callStateTimestamp=n,this.isRecordingPaused=o,this.isMuted=T,this.isOnHold=a,this.initialCallId=s,this.queueName=C,this.queueId=c,this.queueTimestamp=R,this.isSoftphoneCall=u,this.acceptEnabled=P,this.declineEnabled=L,this.muteEnabled=D,this.swapEnabled=h,this.conferenceEnabled=f,this.holdEnabled=Y,this.recordEnabled=U,this.addCallerEnabled=y,this.extensionEnabled=M,this.isReplayable=B,this.isBargeable=k,this.isExternalTransfer=F,this.removeParticipantVariant=ne,this.showMuteButton=W,this.showRecordButton=q,this.showAddCallerButton=X,this.showAddBlindTransferButton=$,this.showMergeButton=Z,this.showSwapButton=te,this.additionalFields=_e,this.isMultiParty=re,this.isHIDCall=ie,this.endCallDisabled=Ae,this.renderContactId=le}),ie=C(function e(t){var E=t.phoneNumber,n=t.id,a=t.type,_=t.name,T=t.listType,r=t.prefix,o=t.extension,s=t.endpointARN,A=t.queue,c=t.availability,l=t.recordId,C=t.description,O=t.queueWaitTime;N(this,e),E&&Ce.validateString(E),a&&Ce.validateEnum(a,Object.values(i.CONTACT_TYPE)),n&&Ce.validateString(n),_&&Ce.validateString(_),T&&Ce.validateEnum(T,Object.values(m.CONTACT_LIST_TYPE)),r&&Ce.validateString(r),o&&Ce.validateString(o),c&&Ce.validateEnum(c,Object.values(i.AGENT_AVAILABILITY)),l&&Ce.validateString(l),C&&Ce.validateString(C),O&&Ce.validateString(O),this.phoneNumber=E,this.id=n,this.type=a,this.name=_,this.listType=T,this.prefix=r,this.extension=o,this.endpointARN=s,this.queue=A,i.CONTACT_TYPE.AGENT===this.type?this.availability=c:this.availability=null,this.queueWaitTime=O,this.recordId=l,this.description=C}),se=C(function e(t){var E=t.voiceCallId,n=t.participantType,a=t.dialerType,_=void 0===a?m.DIALER_TYPE.NONE:a,T=t.parentId,r=t.isOnHold,o=t.hasSupervisorBargedIn,s=void 0!==o&&o,A=t.isAutoMergeOn,c=void 0!==A&&A,l=t.isConsultCall,C=void 0!==l&&l;N(this,e),E&&Ce.validateString(E),n&&Ce.validateEnum(n,Object.values(i.PARTICIPANT_TYPE)),T&&Ce.validateString(T),void 0!==r&&Ce.validateBoolean(r),Ce.validateBoolean(s),Ce.validateEnum(_,Object.values(i.DIALER_TYPE)),Ce.validateBoolean(c),Ce.validateBoolean(C),this.voiceCallId=E,this.participantType=n,this.parentId=T,this.isOnHold=r,this.dialerType=_,this.hasSupervisorBargedIn=s,this.isAutoMergeOn=c,this.isConsultCall=C}),Ae=C(function e(t){var E=t.callId,n=t.callType,a=t.callSubtype,_=t.contact,T=t.state,r=t.callAttributes,o=t.phoneNumber,s=t.callInfo,A=t.reason,c=t.closeCallOnError,l=t.agentStatus,C=t.agentARN,O=t.fromContact,R=t.toContact,S=t.connectionId;N(this,e),E&&(Ce.validateString(E),this.callId=E),S?(Ce.validateString(S),this.connectionId=S):E&&(this.connectionId=E),n&&(Ce.validateEnum(n,Object.values(i.CALL_TYPE)),this.callType=n),a&&(Ce.validateEnum(a,Object.values(i.CALL_SUBTYPE)),this.callSubtype=a),o&&(Ce.validateString(o),this.phoneNumber=o),s&&(Ce.validateClassObject(s,oe),this.callInfo=s),_&&(Ce.validateClassObject(_,ie),this.contact=_),O&&(Ce.validateClassObject(O,ie),this.fromContact=O),R?(Ce.validateClassObject(R,ie),this.toContact=R):_&&(this.toContact=_),A&&(this.reason=A),c&&(this.closeCallOnError=c),l&&(this.agentStatus=l),C&&(this.agentARN=C),this.state=T,this.callAttributes=r}),ce=function(){return C(function e(){N(this,e)},[{key:"getActiveCalls",value:function(){throw new Error("Not implemented")}},{key:"acceptCall",value:function(e){throw new Error("Not implemented")}},{key:"declineCall",value:function(e){throw new Error("Not implemented")}},{key:"endCall",value:function(e,t){throw new Error("Not implemented")}},{key:"mute",value:function(e){throw new Error("Not implemented")}},{key:"unmute",value:function(e){throw new Error("Not implemented")}},{key:"hold",value:function(e){throw new Error("Not implemented")}},{key:"resume",value:function(e){throw new Error("Not implemented")}},{key:"dial",value:function(e,t){throw new Error("Not implemented")}},{key:"sendDigits",value:function(e){throw new Error("Not implemented")}},{key:"getPhoneContacts",value:function(e){throw new Error("Not implemented")}},{key:"swap",value:function(e,t){throw new Error("Not implemented")}},{key:"conference",value:function(e){throw new Error("Not implemented")}},{key:"addParticipant",value:function(e,t,E){throw new Error("Not implemented")}},{key:"pauseRecording",value:function(){throw new Error("Not implemented")}},{key:"resumeRecording",value:function(){throw new Error("Not implemented")}},{key:"getAgentConfig",value:function(){throw new Error("Not implemented")}},{key:"setAgentConfig",value:function(e){throw new Error("Not implemented")}},{key:"getVoiceCapabilities",value:function(){throw new Error("Not implemented")}},{key:"wrapUpCall",value:function(e){throw new Error("Not implemented")}},{key:"getSignedRecordingUrl",value:function(e,t,E){throw new Error("Not implemented")}},{key:"superviseCall",value:function(e){throw new Error("Not implemented")}},{key:"supervisorDisconnect",value:function(e){throw new Error("Not implemented")}},{key:"supervisorBargeIn",value:function(e){throw new Error("Not implemented")}}])}(),le=function(){return C(function e(){N(this,e)},[{key:"init",value:function(e){throw new Error("Not implemented")}},{key:"getTelephonyConnector",value:function(){throw new Error("Not implemented")}},{key:"onAgentWorkEvent",value:function(e){throw new Error("Not implemented")}},{key:"setAgentStatus",value:function(e,t,E){throw new Error("Not implemented")}},{key:"getAgentStatus",value:function(){this.logMessageToVendor(i.LOG_LEVEL.INFO,"getAgentStatus API is NOT Implemented")}},{key:"logout",value:function(){throw new Error("Not implemented")}},{key:"handleMessage",value:function(e){throw new Error("Not implemented")}},{key:"downloadLogs",value:function(e){h()}},{key:"logMessageToVendor",value:function(e,t,E){}},{key:"getContacts",value:function(e,t){throw new Error("Not implemented")}},{key:"getAudioDevices",value:function(){throw new Error("Not implemented")}},{key:"getSharedCapabilities",value:function(){throw new Error("Not implemented")}}])}(),Ce=function(){return C(function e(){N(this,e)},null,[{key:"validateString",value:function(t){if("string"!=typeof t)throw new Error("Invalid argument. Expecting a string but got ".concat(e(t)));return this}},{key:"validateNumber",value:function(t){if("number"!=typeof t)throw new Error("Invalid argument. Expecting a number but got ".concat(e(t)));return this}},{key:"validateBoolean",value:function(t){if("boolean"!=typeof t)throw new Error("Invalid argument. Expecting a boolean but got ".concat(e(t)));return this}},{key:"validateEnum",value:function(e,t){if(!new RegExp(t.join("|"),"i").test(e))throw new Error("Invalid argument. Expecting a value from ".concat(JSON.stringify(t)," but got ").concat(e));return this}},{key:"validateDate",value:function(t){if(!(t instanceof Date))throw new Error("Invalid argument. Expecting a Date object but got ".concat(e(t)));return this}},{key:"validateClassObject",value:function(t,E){if(!(t instanceof E))throw new Error("Invalid className. Expecting object of class ".concat(E," but got ").concat(e(t)));return this}},{key:"validateClassObjects",value:function(t){for(var E=!1,n=arguments.length,a=new Array(n>1?n-1:0),_=1;_<n;_++)a[_-1]=arguments[_];for(var T=0;T<a.length;T++)try{this.validateClassObject(t,a[T]),E=!0;break}catch(e){}if(!E)throw new Error("Invalid className. Expecting object matching a class name in ".concat(a," but got ").concat(e(t)));return this}}])}(),Ne=C(function e(t){var E=t.workItemId,n=t.workId,a=t.workEvent;N(this,e),Ce.validateEnum(a,Object.values(i.WORK_EVENT)),this.workEvent=a,this.workItemId=E,this.workId=n}),Oe=C(function e(t){var E=t.statusId,n=t.statusApiName,a=t.statusName;N(this,e),Ce.validateString(E),n&&Ce.validateString(n),a&&Ce.validateString(a),this.statusId=E,this.statusApiName=n,this.statusName=a}),Re=C(function e(t){var E=t.statusId,n=t.statusType,a=t.statusName;N(this,e),E&&Ce.validateString(E),n&&Ce.validateString(n),a&&Ce.validateString(a),this.statusId=E,this.statusType=n,this.statusName=a}),Se=C(function e(t){var E=t.newVendorStateInfo,n=t.oldVendorStateInfo;N(this,e),Ce.validateClassObject(E,Re),Ce.validateString(E.statusName),n&&Ce.validateClassObject(n,Re),this.newVendorStateInfo=E,this.oldVendorStateInfo=n}),ue=C(function e(t){var E=t.callId,n=t.voiceCallId,a=t.callType,_=t.from,T=t.to,r=t.supervisorName,o=t.isBargedIn,i=t.connectionId;N(this,e),Ce.validateString(E),this.callId=E,this.voiceCallId=n,this.callType=a,this.from=_,this.to=T,this.supervisorName=r,this.isBargedIn=o,this.connectionId=i||E}),Ie=C(function e(t){var E=t.callId,n=t.stats,a=t.isAudioStatsCompleted;N(this,e),E&&(Ce.validateString(E),this.callId=E),n&&(Ce.validateClassObject(n,Array),n.forEach(function(e){return Ce.validateClassObject(e,Pe)}),this.stats=n),a&&(Ce.validateBoolean(a),this.isAudioStatsCompleted=a)}),Pe=C(function e(t){var E=t.inputChannelStats,n=t.outputChannelStats;N(this,e),E&&Ce.validateClassObject(E,de),n&&Ce.validateClassObject(n,de),this.inputChannelStats=E,this.outputChannelStats=n}),de=C(function e(t){var E=t.packetsCount,n=t.packetsLost,a=t.jitterBufferMillis,_=t.roundTripTimeMillis;N(this,e),E=null==E||E<0?0:E,n=null==n||n<0?0:n,a=null==a||a<0?0:a,_=null==_||_<0?0:_,this.statsCount=0,this.packetsCount=E,this.packetsLost=n,this.jitterBufferMillis=a,this.roundTripTimeMillis=_}),Le=C(function e(t){var E=t.call;N(this,e),Ce.validateClassObject(E,Ae),this.call=E}),pe=function(e){function t(e){var E=e.calls;return N(this,t),f(this,t,[{calls:E}])}return S(t,e),C(t)}(Z),De=C(function e(t){var E=t.success,n=void 0!==E&&E,a=t.showLogin,_=void 0!==a&&a,T=t.loginFrameHeight,r=void 0===T?350:T;N(this,e),this.success=n,this.showLogin=_,this.loginFrameHeight=r}),Ve=C(function e(t){if(N(this,e),t){var E=t.contains,n=void 0===E?null:E,a=t.limit,_=void 0===a?50:a,T=t.offset,r=void 0===T?0:T,o=t.types,s=void 0===o?[]:o;n&&Ce.validateString(n),Ce.validateNumber(_),Ce.validateNumber(r);var A,c=function(e,t){var E="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!E){if(Array.isArray(e)||(E=function(e,t){if(e){if("string"==typeof e)return v(e,t);var E={}.toString.call(e).slice(8,-1);return"Object"===E&&e.constructor&&(E=e.constructor.name),"Map"===E||"Set"===E?Array.from(e):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){E&&(e=E);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,T=!0,r=!1;return{s:function(){E=E.call(e)},n:function(){var e=E.next();return T=e.done,e},e:function(e){r=!0,_=e},f:function(){try{T||null==E.return||E.return()}finally{if(r)throw _}}}}(s);try{for(c.s();!(A=c.n()).done;)A.value,Ce.validateEnum(s,Object.values(i.CONTACTS_FILTER_TYPES))}catch(e){c.e(e)}finally{c.f()}this.contains=n,this.limit=_,this.offset=r,this.types=s}}),he=C(function e(t){var E=t.agentWorkId,n=t.workItemId;if(N(this,e),E&&(Ce.validateString(E),this.agentWorkId=E),n&&(Ce.validateString(n),this.workItemId=n),!E&&!n)throw new Error("You must pass at least one of agent work id or work item (voice call or messaging session) id")}),ve=!1;function fe(e){var t=function(e){var t=U[e];return{packetsCount:t.packetsCount/t.statsCount,packetsLost:t.packetsLost/t.statsCount,jitterBufferMillis:t.jitterBufferMillis/t.statsCount,roundTripTimeMillis:t.roundTripTimeMillis/t.statsCount}}(e),E=t.roundTripTimeMillis+2*t.jitterBufferMillis+10,n=0;return n=E<160?93.2-E/40:93.2-(E-120)/10,1+.035*(n-=t.packetsLost/t.packetsCount*2.5)+7e-6*n*(n-60)*(100-n)}function Ge(){ve=!0}function Ye(){if(ve&&U){var e=fe("inputChannelStats"),t=fe("outputChannelStats");return U=null,isNaN(t)&&isNaN(e)?0:isNaN(t)?e:isNaN(e)?t:Math.min(e,t)}}function be(){U=new Pe({inputChannelStats:new de({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0}),outputChannelStats:new de({packetsCount:0,packetsLost:0,jitterBufferMillis:0,roundTripTimeMillis:0})})}function Ue(e){U&&e.forEach(function(e){e.inputChannelStats&&(U.inputChannelStats.statsCount++,U.inputChannelStats.packetsCount+=0|e.inputChannelStats.packetsCount,U.inputChannelStats.packetsLost+=0|e.inputChannelStats.packetsLost,U.inputChannelStats.jitterBufferMillis+=0|e.inputChannelStats.jitterBufferMillis,U.inputChannelStats.roundTripTimeMillis+=0|e.inputChannelStats.roundTripTimeMillis),e.outputChannelStats&&(U.outputChannelStats.statsCount++,U.outputChannelStats.packetsCount+=0|e.outputChannelStats.packetsCount,U.outputChannelStats.packetsLost+=0|e.outputChannelStats.packetsLost,U.outputChannelStats.jitterBufferMillis+=0|e.outputChannelStats.jitterBufferMillis,U.outputChannelStats.roundTripTimeMillis+=0|e.outputChannelStats.roundTripTimeMillis)})}function ge(e){return e&&e.type?e.type:e}function ye(t){if(t){if("function"==typeof t)return;if("object"===e(t)){var E=Array.isArray(t),n=E?[]:{};if(E)t.forEach(function(e){n.push(ye(e))});else for(var a in t)"phoneNumber"!==a&&"number"!==a&&"name"!==a&&"callAttributes"!==a&&"/reqHvcc/reqTelephonyIntegrationCertificate"!==a&&(n[a]=ye(t[a]));return n}}return t}function He(e){return e&&e.message?e.message:e}function me(e,t,E){var n=ye(t);D({eventType:e,payload:t},E?i.LOG_LEVEL.ERROR:i.LOG_LEVEL.INFO,i.LOG_SOURCE.SYSTEM),g.postMessage({type:i.SHARED_MESSAGE_TYPE.LOG,payload:{eventType:e,payload:n,isError:E}})}function Me(e,t){var E=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g.postMessage({type:i.SHARED_MESSAGE_TYPE.TELEPHONY_EVENT_DISPATCHED,payload:{telephonyEventType:e,telephonyEventPayload:t}}),E&&me(e,t,!1)}function xe(e,t,E){console.error("SCV dispatched error ".concat(e," for eventType ").concat(E),t),Me(i.SHARED_EVENT_TYPE.ERROR,{message:e},!1),me(E,{errorType:e,error:t},!0)}function Be(e,t){var E={customError:{labelName:e.labelName,namespace:e.namespace,message:e.message}};console.error("SCV dispatched custom error for eventType ".concat(t),E),Me(i.SHARED_EVENT_TYPE.ERROR,E,!1),me(t,{errorType:i.SHARED_ERROR_TYPE.CUSTOM_ERROR,error:e},!0)}function we(e,t){console.info("SCV info message dispatched for eventType ".concat(e," with payload ").concat(JSON.stringify(t))),Me(i.SHARED_EVENT_TYPE.INFO,{message:e},!1),me(e,t,!1)}function ke(){return Fe.apply(this,arguments)}function Fe(){return(Fe=T(o().mark(function e(){var t,E,n,_,T,r,s,A,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,y.getTelephonyConnector();case 1:return E=e.sent,e.next=2,E.getAgentConfig();case 2:return n=e.sent,e.next=3,y.getSharedCapabilities();case 3:return _=e.sent,e.next=4,E.getVoiceCapabilities();case 4:return T=e.sent,Ce.validateClassObject(n,K),Ce.validateClassObject(T,W),T.supportsMos&&Ge(),e.next=5,E.getActiveCalls();case 5:r=e.sent,Ce.validateClassObject(r,k),s=r.activeCalls,A=i.SHARED_MESSAGE_TYPE.CONNECTOR_READY,c={agentConfig:a(a({},i.AGENT_CONFIG_TYPE.PHONES,n.phones),i.AGENT_CONFIG_TYPE.SELECTED_PHONE,n.selectedPhone),capabilities:(t={},a(a(a(a(a(a(a(a(a(a(t,i.SHARED_CAPABILITIES_TYPE.DEBUG_ENABLED,_.debugEnabled),i.SHARED_CAPABILITIES_TYPE.CONTACT_SEARCH,_.hasContactSearch),i.SHARED_CAPABILITIES_TYPE.VENDOR_PROVIDED_AVAILABILITY,_.hasAgentAvailability),i.SHARED_CAPABILITIES_TYPE.VENDOR_PROVIDED_QUEUE_WAIT_TIME,_.hasQueueWaitTime),i.SHARED_CAPABILITIES_TYPE.TRANSFER_TO_OMNI_FLOW,_.hasTransferToOmniFlow),i.SHARED_CAPABILITIES_TYPE.PENDING_STATUS_CHANGE,_.hasPendingStatusChange),i.SHARED_CAPABILITIES_TYPE.SFDC_PENDING_STATE,_.hasSFDCPendingState),i.SHARED_CAPABILITIES_TYPE.AUTO_ACCEPT_ENABLED,_.hasAutoAcceptEnabled),i.VOICE_CAPABILITIES_TYPE.MUTE,T.hasMute),i.VOICE_CAPABILITIES_TYPE.RECORD,T.hasRecord),a(a(a(a(a(a(a(a(a(a(t,i.VOICE_CAPABILITIES_TYPE.MERGE,T.hasMerge),i.VOICE_CAPABILITIES_TYPE.SWAP,T.hasSwap),i.VOICE_CAPABILITIES_TYPE.BLIND_TRANSFER,T.hasBlindTransfer),i.VOICE_CAPABILITIES_TYPE.SIGNED_RECORDING_URL,T.hasSignedRecordingUrl),i.VOICE_CAPABILITIES_TYPE.SUPERVISOR_LISTEN_IN,T.hasSupervisorListenIn),i.VOICE_CAPABILITIES_TYPE.SUPERVISOR_BARGE_IN,T.hasSupervisorBargeIn),i.VOICE_CAPABILITIES_TYPE.MOS,T.supportsMos),i.VOICE_CAPABILITIES_TYPE.PHONEBOOK,T.hasPhoneBook),i.VOICE_CAPABILITIES_TYPE.HAS_GET_EXTERNAL_SPEAKER,T.hasGetExternalSpeakerDeviceSetting),i.VOICE_CAPABILITIES_TYPE.HAS_SET_EXTERNAL_SPEAKER,T.hasSetExternalSpeakerDeviceSetting),a(a(a(a(a(a(t,i.VOICE_CAPABILITIES_TYPE.HAS_GET_EXTERNAL_MICROPHONE,T.hasGetExternalMicrophoneDeviceSetting),i.VOICE_CAPABILITIES_TYPE.HAS_SET_EXTERNAL_MICROPHONE,T.hasSetExternalMicrophoneDeviceSetting),i.VOICE_CAPABILITIES_TYPE.CAN_CONSULT,T.canConsult),i.VOICE_CAPABILITIES_TYPE.DIAL_PAD,T.isDialPadDisabled),i.VOICE_CAPABILITIES_TYPE.HAS_HID_SUPPORT,T.isHidSupported),i.VOICE_CAPABILITIES_TYPE.PHONEBOOK_DISABLE,T.isPhoneBookDisabled)),callInProgress:s.length>0?s[0]:null},g.postMessage({type:A,payload:c}),me(A,c,!1),e.next=7;break;case 6:e.prev=6,e.catch(0),g.postMessage({type:i.SHARED_MESSAGE_TYPE.CONNECTOR_READY,payload:{}}),me(i.SHARED_MESSAGE_TYPE.CONNECTOR_READY,{},!1);case 7:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function je(e){return We.apply(this,arguments)}function We(){return(We=T(o().mark(function e(t){var E,n,a,_,T,r,s,A,c,l,C,N,O,R,S,u,I,P,d,L,p,D,h,v,f,G,Y,b,U,g,m,x,B,w,j,W,K,q,Q,X,ee,Ee,oe,se,Ae,ce,le,Ne,Oe,Se,ue,Ie,Pe,de,De,Ve,he,ve,fe,Ge,Ye,Ue,ye,ke,Fe,je,We,Ke,qe,Qe,Xe,Je,$e,ze,et,tt,Et,nt,at,_t,Tt,rt,ot,it,st,At,ct,lt,Ct,Nt,Ot,Rt,St,ut,It,Pt,dt,Lt,pt,Dt,Vt,ht,vt,ft,Gt,Yt,bt,Ut,gt,yt,Ht,mt,Mt,xt,Bt;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(E=t.data.type)!==i.SHARED_MESSAGE_TYPE.LOG&&me(E,t.data,!1),st=E,e.next=st===i.VOICE_MESSAGE_TYPE.ACCEPT_CALL?1:st===i.VOICE_MESSAGE_TYPE.DECLINE_CALL?9:st===i.VOICE_MESSAGE_TYPE.END_CALL?14:st===i.VOICE_MESSAGE_TYPE.MUTE?20:st===i.VOICE_MESSAGE_TYPE.UNMUTE?25:st===i.VOICE_MESSAGE_TYPE.HOLD?30:st===i.VOICE_MESSAGE_TYPE.RESUME?38:st===i.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS?46:st===i.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS?53:st===i.VOICE_MESSAGE_TYPE.DIAL?57:st===i.VOICE_MESSAGE_TYPE.SEND_DIGITS?66:st===i.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS?71:st===i.SHARED_MESSAGE_TYPE.GET_CONTACTS?76:st===i.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS?80:st===i.VOICE_MESSAGE_TYPE.CONFERENCE?85:st===i.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT?90:st===i.VOICE_MESSAGE_TYPE.PAUSE_RECORDING?98:st===i.VOICE_MESSAGE_TYPE.RESUME_RECORDING?103:st===i.SHARED_MESSAGE_TYPE.LOGOUT?108:st===i.SHARED_MESSAGE_TYPE.MESSAGE?112:st===i.VOICE_MESSAGE_TYPE.WRAP_UP_CALL?113:st===i.VOICE_MESSAGE_TYPE.AGENT_AVAILABLE?115:st===i.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG?128:st===i.VOICE_MESSAGE_TYPE.GET_AUDIO_DEVICES?133:st===i.VOICE_MESSAGE_TYPE.GET_SIGNED_RECORDING_URL?138:st===i.SHARED_MESSAGE_TYPE.DOWNLOAD_VENDOR_LOGS?143:st===i.SHARED_MESSAGE_TYPE.LOG?144:st===i.VOICE_MESSAGE_TYPE.SUPERVISE_CALL?145:st===i.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT?151:st===i.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN?156:st===i.SHARED_MESSAGE_TYPE.AGENT_WORK_EVENT?161:162;break;case 1:if(e.prev=1,!t.data.call||!t.data.call.callType||t.data.call.callType.toLowerCase()!==i.CALL_TYPE.OUTBOUND.toLowerCase()&&t.data.call.callType.toLowerCase()!==i.CALL_TYPE.DIALED_CALLBACK.toLowerCase()){e.next=2;break}return e.abrupt("return");case 2:return be(),e.next=3,y.getTelephonyConnector();case 3:if(n=e.sent,!H){e.next=5;break}return e.next=4,n.supervisorDisconnect();case 4:a=e.sent,Ce.validateClassObject(a,pe),H=!1,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,a.calls);case 5:return e.next=6,n.acceptCall(t.data.call);case 6:_=e.sent,Ce.validateClassObject(_,z),Me((T=_.call).callType.toLowerCase()===i.CALL_TYPE.CALLBACK.toLowerCase()?i.VOICE_EVENT_TYPE.CALL_STARTED:i.VOICE_EVENT_TYPE.CALL_CONNECTED,T),e.next=8;break;case 7:e.prev=7,At=e.catch(1),H=!1,At instanceof M?Be(At,i.VOICE_MESSAGE_TYPE.ACCEPT_CALL):we(i.INFO_TYPE.CAN_NOT_ACCEPT_THE_CALL,{messagetype:i.VOICE_MESSAGE_TYPE.ACCEPT_CALL,additionalInfo:At});case 8:return e.abrupt("continue",163);case 9:return e.prev=9,e.next=10,y.getTelephonyConnector();case 10:return r=e.sent,e.next=11,r.declineCall(t.data.call);case 11:s=e.sent,Ce.validateClassObject(s,z),A=s.call,Me(i.VOICE_EVENT_TYPE.HANGUP,A),e.next=13;break;case 12:e.prev=12,(ct=e.catch(9))instanceof M?Be(ct,i.VOICE_MESSAGE_TYPE.DECLINE_CALL):xe(i.VOICE_ERROR_TYPE.CAN_NOT_DECLINE_THE_CALL,ct,i.VOICE_MESSAGE_TYPE.DECLINE_CALL);case 13:return e.abrupt("continue",163);case 14:return e.prev=14,e.next=15,y.getTelephonyConnector();case 15:return c=e.sent,e.next=16,c.endCall(t.data.call,t.data.agentStatus);case 16:return l=e.sent,Ce.validateClassObject(l,Z),e.next=17,c.getActiveCalls();case 17:C=e.sent,Ce.validateClassObject(C,k),N=C.activeCalls,O=l.calls,0===N.length?Me(i.VOICE_EVENT_TYPE.HANGUP,O):Me(i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,O.length>0&&O[0]),e.next=19;break;case 18:e.prev=18,(lt=e.catch(14))instanceof M?Be(lt,i.VOICE_MESSAGE_TYPE.END_CALL):xe(i.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,lt,i.VOICE_MESSAGE_TYPE.END_CALL);case 19:return e.abrupt("continue",163);case 20:return e.prev=20,e.next=21,y.getTelephonyConnector();case 21:return R=e.sent,e.next=22,R.mute(t.data.call);case 22:S=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.MUTE_TOGGLE,payload:S}),e.next=24;break;case 23:e.prev=23,(Ct=e.catch(20))instanceof M?Be(Ct,i.VOICE_MESSAGE_TYPE.MUTE):xe(i.VOICE_ERROR_TYPE.CAN_NOT_MUTE_CALL,Ct,i.VOICE_MESSAGE_TYPE.MUTE);case 24:return e.abrupt("continue",163);case 25:return e.prev=25,e.next=26,y.getTelephonyConnector();case 26:return u=e.sent,e.next=27,u.unmute(t.data.call);case 27:I=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.MUTE_TOGGLE,payload:I}),e.next=29;break;case 28:e.prev=28,(Nt=e.catch(25))instanceof M?Be(Nt,i.VOICE_MESSAGE_TYPE.UNMUTE):xe(i.VOICE_ERROR_TYPE.CAN_NOT_UNMUTE_CALL,Nt,i.VOICE_MESSAGE_TYPE.UNMUTE);case 29:return e.abrupt("continue",163);case 30:return e.prev=30,e.next=31,y.getTelephonyConnector();case 31:return P=e.sent,e.next=32,P.hold(t.data.call);case 32:d=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.HOLD_TOGGLE,payload:d}),e.next=37;break;case 33:if(e.prev=33,!((Ot=e.catch(30))instanceof M)){e.next=34;break}Be(Ot,i.VOICE_MESSAGE_TYPE.HOLD),e.next=37;break;case 34:Rt=ge(Ot),e.next=Rt===i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?35:36;break;case 35:return xe(i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,He(Ot),i.VOICE_MESSAGE_TYPE.HOLD),e.abrupt("continue",37);case 36:return xe(i.VOICE_ERROR_TYPE.CAN_NOT_HOLD_CALL,He(Ot),i.VOICE_MESSAGE_TYPE.HOLD),e.abrupt("continue",37);case 37:return e.abrupt("continue",163);case 38:return e.prev=38,e.next=39,y.getTelephonyConnector();case 39:return L=e.sent,e.next=40,L.resume(t.data.call);case 40:p=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.HOLD_TOGGLE,payload:p}),e.next=45;break;case 41:if(e.prev=41,!((St=e.catch(38))instanceof M)){e.next=42;break}Be(St,i.VOICE_MESSAGE_TYPE.RESUME),e.next=45;break;case 42:ut=ge(St),e.next=ut===i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?43:44;break;case 43:return xe(i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT,He(St),i.VOICE_MESSAGE_TYPE.RESUME),e.abrupt("continue",45);case 44:return xe(i.VOICE_ERROR_TYPE.CAN_NOT_RESUME_CALL,He(St),i.VOICE_MESSAGE_TYPE.RESUME),e.abrupt("continue",45);case 45:return e.abrupt("continue",163);case 46:return e.prev=46,D=t.data.statusInfo||{},h=t.data.enqueueNextState||!1,e.next=47,y.setAgentStatus(t.data.agentStatus,D,h);case 47:v=e.sent,Ce.validateClassObject(v,ae,_e),f=v.success,G=v.isStatusSyncNeeded,Me(i.SHARED_EVENT_TYPE.SET_AGENT_STATUS_RESULT,void 0!==G?{success:f,isStatusSyncNeeded:G}:{success:f}),e.next=52;break;case 48:if(e.prev=48,!((It=e.catch(46))instanceof M)){e.next=49;break}Be(It,i.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.next=52;break;case 49:t.data.statusInfo&&Me(i.SHARED_EVENT_TYPE.SET_AGENT_STATUS_RESULT,{success:!1}),Pt=ge(It),e.next=Pt===i.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS?50:51;break;case 50:return xe(i.SHARED_ERROR_TYPE.INVALID_AGENT_STATUS,He(It),i.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("continue",52);case 51:return xe(i.SHARED_ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,He(It),i.SHARED_MESSAGE_TYPE.SET_AGENT_STATUS),e.abrupt("continue",52);case 52:return e.abrupt("continue",163);case 53:return e.prev=53,e.next=54,y.getAgentStatus();case 54:Y=e.sent,Ce.validateClassObject(Y,Re),Me(i.SHARED_EVENT_TYPE.GET_AGENT_STATUS_RESULT,Y),e.next=56;break;case 55:e.prev=55,(dt=e.catch(53))instanceof M?Be(dt,i.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS):xe(i.SHARED_ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,He(dt),i.SHARED_MESSAGE_TYPE.GET_AGENT_STATUS);case 56:return e.abrupt("continue",163);case 57:return e.prev=57,e.next=58,y.getTelephonyConnector();case 58:return b=e.sent,U=t.data.params&&t.data.params.indexOf(i.DIAL_OPTIONS.CALLBACK)>=0,g=t.data.params&&t.data.params.indexOf(i.DIAL_OPTIONS.CONSULT)>=0,e.next=59,b.dial(new ie(t.data.contact),new ne({isCallback:U,isConsultCall:g}));case 59:m=e.sent,Ce.validateClassObject(m,z),x=m.call,i.CALL_TYPE.DIALED_CALLBACK.toLowerCase()===x.callType.toLowerCase()&&U?Me(i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,x):Me(i.VOICE_EVENT_TYPE.CALL_STARTED,x),e.next=65;break;case 60:if(e.prev=60,Lt=e.catch(57),Me(i.VOICE_EVENT_TYPE.CALL_FAILED),!(Lt instanceof M)){e.next=61;break}Be(Lt,i.VOICE_MESSAGE_TYPE.DIAL),e.next=65;break;case 61:pt=ge(Lt),e.next=pt===i.VOICE_ERROR_TYPE.INVALID_DESTINATION?62:pt===i.SHARED_ERROR_TYPE.GENERIC_ERROR?63:64;break;case 62:return xe(i.VOICE_ERROR_TYPE.INVALID_DESTINATION,He(Lt),i.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("continue",65);case 63:return xe(i.SHARED_ERROR_TYPE.GENERIC_ERROR,He(Lt),i.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("continue",65);case 64:return xe(i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,He(Lt),i.VOICE_MESSAGE_TYPE.DIAL),e.abrupt("continue",65);case 65:return e.abrupt("continue",163);case 66:return e.prev=66,e.next=67,y.getTelephonyConnector();case 67:return B=e.sent,e.next=68,B.sendDigits(t.data.digits);case 68:e.next=70;break;case 69:e.prev=69,e.catch(66),me(i.VOICE_MESSAGE_TYPE.SEND_DIGITS,t.data.digits,!0);case 70:return e.abrupt("continue",163);case 71:return e.prev=71,e.next=72,y.getTelephonyConnector();case 72:return w=e.sent,e.next=73,w.getPhoneContacts(t.data.filter);case 73:j=e.sent,Ce.validateClassObject(j,$),W=j.contacts.map(function(e){return{id:e.id,type:e.type,name:e.name,listType:e.listType,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}}),Me(i.VOICE_EVENT_TYPE.PHONE_CONTACTS,{contacts:W,contactTypes:j.contactTypes}),e.next=75;break;case 74:e.prev=74,(Dt=e.catch(71))instanceof M?Be(Dt,i.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS):xe(i.VOICE_ERROR_TYPE.CAN_NOT_GET_PHONE_CONTACTS,Dt,i.VOICE_MESSAGE_TYPE.GET_PHONE_CONTACTS);case 75:return e.abrupt("continue",163);case 76:return e.prev=76,e.next=77,y.getContacts(t.data.filter,t.data.workItemId);case 77:K=e.sent,Ce.validateClassObject(K,J),q=K.contacts.map(function(e){return{id:e.id,type:e.type,name:e.name,listType:e.listType,phoneNumber:e.phoneNumber,prefix:e.prefix,extension:e.extension,endpointARN:e.endpointARN,queue:e.queue,availability:e.availability,queueWaitTime:e.queueWaitTime,recordId:e.recordId,description:e.description}}),Me(i.SHARED_EVENT_TYPE.GET_CONTACTS_RESULT,{contacts:q,contactTypes:K.contactTypes}),e.next=79;break;case 78:e.prev=78,Be(e.catch(76),i.SHARED_MESSAGE_TYPE.GET_CONTACTS);case 79:return e.abrupt("continue",163);case 80:return e.prev=80,e.next=81,y.getTelephonyConnector();case 81:return Q=e.sent,e.next=82,Q.swap(t.data.callToHold,t.data.callToResume);case 82:X=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED,payload:X}),e.next=84;break;case 83:e.prev=83,(Vt=e.catch(80))instanceof M?Be(Vt,i.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS):xe(i.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,Vt,i.VOICE_MESSAGE_TYPE.SWAP_PARTICIPANTS);case 84:return e.abrupt("continue",163);case 85:return e.prev=85,e.next=86,y.getTelephonyConnector();case 86:return ee=e.sent,e.next=87,ee.conference(t.data.calls);case 87:Ee=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED,payload:Ee}),e.next=89;break;case 88:e.prev=88,(ht=e.catch(85))instanceof M?Be(ht,i.VOICE_MESSAGE_TYPE.CONFERENCE):xe(i.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,ht,i.VOICE_MESSAGE_TYPE.CONFERENCE);case 89:return e.abrupt("continue",163);case 90:return e.prev=90,e.next=91,y.getTelephonyConnector();case 91:return oe=e.sent,e.next=92,oe.addParticipant(new ie(t.data.contact),t.data.call,t.data.isBlindTransfer);case 92:se=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,payload:se}),t.data.isBlindTransfer&&Me(i.VOICE_EVENT_TYPE.HANGUP,t.data.call),e.next=97;break;case 93:if(e.prev=93,vt=e.catch(90),Me(i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,{reason:i.SHARED_EVENT_TYPE.ERROR.toLowerCase()}),!(vt instanceof M)){e.next=94;break}Be(vt,i.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.next=97;break;case 94:ft=ge(vt),e.next=ft===i.VOICE_ERROR_TYPE.INVALID_DESTINATION?95:96;break;case 95:return xe(i.VOICE_ERROR_TYPE.INVALID_DESTINATION,He(vt),i.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("continue",97);case 96:return xe(i.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,He(vt),i.VOICE_MESSAGE_TYPE.ADD_PARTICIPANT),e.abrupt("continue",97);case 97:return e.abrupt("continue",163);case 98:return e.prev=98,e.next=99,y.getTelephonyConnector();case 99:return Ae=e.sent,e.next=100,Ae.pauseRecording(t.data.call);case 100:ce=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.RECORDING_TOGGLE,payload:ce}),e.next=102;break;case 101:e.prev=101,(Gt=e.catch(98))instanceof M?Be(Gt,i.VOICE_MESSAGE_TYPE.PAUSE_RECORDING):xe(i.VOICE_ERROR_TYPE.CAN_NOT_PAUSE_RECORDING,Gt,i.VOICE_MESSAGE_TYPE.PAUSE_RECORDING);case 102:return e.abrupt("continue",163);case 103:return e.prev=103,e.next=104,y.getTelephonyConnector();case 104:return le=e.sent,e.next=105,le.resumeRecording(t.data.call);case 105:Ne=e.sent,Ze({eventType:i.VOICE_EVENT_TYPE.RECORDING_TOGGLE,payload:Ne}),e.next=107;break;case 106:e.prev=106,(Yt=e.catch(103))instanceof M?Be(Yt,i.VOICE_MESSAGE_TYPE.RESUME_RECORDING):xe(i.VOICE_ERROR_TYPE.CAN_NOT_RESUME_RECORDING,Yt,i.VOICE_MESSAGE_TYPE.RESUME_RECORDING);case 107:return e.abrupt("continue",163);case 108:return e.prev=108,e.next=109,y.logout();case 109:Oe=e.sent,Ce.validateClassObject(Oe,re),Se=Oe.success,ue=Oe.loginFrameHeight,Me(i.SHARED_EVENT_TYPE.LOGOUT_RESULT,{success:Se,loginFrameHeight:ue}),e.next=111;break;case 110:e.prev=110,(bt=e.catch(108))instanceof M?Be(bt,i.SHARED_MESSAGE_TYPE.LOGOUT):xe(i.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,bt,i.SHARED_MESSAGE_TYPE.LOGOUT);case 111:return e.abrupt("continue",163);case 112:return y.handleMessage(t.data.message),e.abrupt("continue",163);case 113:return e.next=114,y.getTelephonyConnector();case 114:return e.sent.wrapUpCall(t.data.call),e.abrupt("continue",163);case 115:if(!t.data||!t.data.isAvailable){e.next=127;break}return e.next=116,y.getTelephonyConnector();case 116:return Ie=e.sent,e.next=117,Ie.getActiveCalls();case 117:Pe=e.sent,Ce.validateClassObject(Pe,k),de=Pe.activeCalls,Ut=o().keys(de);case 118:if((gt=Ut()).done){e.next=127;break}if(De=gt.value,Ve=de[De],he=!Ve.callInfo||Ve.callInfo.isReplayable,ve=Ve.callAttributes&&Ve.callAttributes.participantType===i.PARTICIPANT_TYPE.SUPERVISOR,fe=ve&&Ve.callAttributes&&Ve.callAttributes.hasSupervisorBargedIn,!he){e.next=126;break}Ve.isReplayedCall=!0,yt=Ve.state,e.next=yt===i.CALL_STATE.CONNECTED?119:yt===i.CALL_STATE.RINGING?121:yt===i.CALL_STATE.TRANSFERRING?123:yt===i.CALL_STATE.TRANSFERRED?124:125;break;case 119:if(!ve){e.next=120;break}return H=!0,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,Ve),fe&&Me(i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,Ve),e.abrupt("continue",126);case 120:return Me(i.VOICE_EVENT_TYPE.CALL_CONNECTED,Ve),e.abrupt("continue",126);case 121:if(!ve){e.next=122;break}return H=!0,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,Ve),e.abrupt("continue",126);case 122:return Me(i.VOICE_EVENT_TYPE.CALL_STARTED,Ve),e.abrupt("continue",126);case 123:return Me(i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,{phoneNumber:Ve.contact.phoneNumber,contact:Ve.contact,callInfo:Ve.callInfo,callAttributes:Ve.callAttributes,initialCallHasEnded:Ve.callAttributes.initialCallHasEnded,callId:Ve.callId,connectionId:Ve.connectionId}),e.abrupt("continue",126);case 124:return Me(i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{phoneNumber:Ve.contact.phoneNumber,contact:Ve.contact,callInfo:Ve.callInfo,callAttributes:Ve.callAttributes,initialCallHasEnded:Ve.callAttributes.initialCallHasEnded,callId:Ve.callId,connectionId:Ve.connectionId}),e.abrupt("continue",126);case 125:return e.abrupt("continue",126);case 126:e.next=118;break;case 127:return e.abrupt("continue",163);case 128:return e.prev=128,e.next=129,y.getTelephonyConnector();case 129:return Ge=e.sent,e.next=130,Ge.setAgentConfig(t.data.config);case 130:Ye=e.sent,Ce.validateClassObjects(Ye,ae,Te),Ye instanceof Te&&Ye.setIsSystemEvent(!!t.data.config.isSystemEvent),Me(i.VOICE_EVENT_TYPE.AGENT_CONFIG_UPDATED,Ye),e.next=132;break;case 131:e.prev=131,(Ht=e.catch(128))instanceof M?Be(Ht,i.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG):xe(ge(Ht)===i.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER?i.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_PHONE_NUMBER:i.VOICE_ERROR_TYPE.CAN_NOT_SET_AGENT_CONFIG,He(Ht),i.VOICE_MESSAGE_TYPE.SET_AGENT_CONFIG);case 132:return e.abrupt("continue",163);case 133:return e.prev=133,e.next=134,y.getTelephonyConnector();case 134:return Ue=e.sent,e.next=135,Ue.getAudioDevices();case 135:ye=e.sent,Ce.validateClassObject(ye,F),Me(i.VOICE_EVENT_TYPE.GET_AUDIO_DEVICES,ye),e.next=137;break;case 136:e.prev=136,mt=e.catch(133),xe(i.VOICE_ERROR_TYPE.CAN_NOT_GET_AUDIO_DEVICES,He(mt),i.VOICE_MESSAGE_TYPE.GET_AUDIO_DEVICES);case 137:return e.abrupt("continue",163);case 138:return e.prev=138,ke=t.data,Fe=ke.recordingUrl,je=ke.vendorCallKey,We=ke.callId,e.next=139,y.getTelephonyConnector();case 139:return Ke=e.sent,e.next=140,Ke.getSignedRecordingUrl(Fe,je,We);case 140:qe=e.sent,Ce.validateClassObject(qe,te),Me(i.VOICE_EVENT_TYPE.SIGNED_RECORDING_URL,qe),e.next=142;break;case 141:e.prev=141,e.catch(138),Qe=new te({success:!1}),Me(i.VOICE_EVENT_TYPE.SIGNED_RECORDING_URL,Qe,!1),me(i.VOICE_MESSAGE_TYPE.GET_SIGNED_RECORDING_URL,Qe,!0);case 142:return e.abrupt("continue",163);case 143:return y.downloadLogs(V()),e.abrupt("continue",163);case 144:return Xe=t.data,Je=Xe.logLevel,$e=Xe.logMessage,ze=Xe.payload,y.logMessageToVendor(Je,$e,ze),e.abrupt("continue",163);case 145:return e.prev=145,H=!0,e.next=146,y.getTelephonyConnector();case 146:return et=e.sent,e.next=147,et.superviseCall(t.data.call);case 147:return tt=e.sent,Ce.validateClassObject(tt,Le),e.next=148,et.getAgentConfig();case 148:e.sent.selectedPhone.type===i.PHONE_TYPE.SOFT_PHONE?Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,tt.call):Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,tt.call),e.next=150;break;case 149:e.prev=149,Mt=e.catch(145),H=!1,Mt instanceof M?Be(Mt,i.VOICE_MESSAGE_TYPE.SUPERVISE_CALL):xe(i.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,Mt,i.VOICE_MESSAGE_TYPE.SUPERVISE_CALL);case 150:return e.abrupt("continue",163);case 151:return e.prev=151,e.next=152,y.getTelephonyConnector();case 152:return Et=e.sent,e.next=153,Et.supervisorDisconnect(t.data.call);case 153:nt=e.sent,Ce.validateClassObject(nt,pe),H=!1,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,nt.calls),e.next=155;break;case 154:e.prev=154,(xt=e.catch(151))instanceof M?Be(xt,i.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT):xe(i.VOICE_ERROR_TYPE.CAN_NOT_DISCONNECT_SUPERVISOR,xt,i.VOICE_MESSAGE_TYPE.SUPERVISOR_DISCONNECT);case 155:return e.abrupt("continue",163);case 156:return e.prev=156,e.next=157,y.getTelephonyConnector();case 157:return at=e.sent,e.next=158,at.supervisorBargeIn(t.data.call);case 158:_t=e.sent,Ce.validateClassObject(_t,Le),Me(i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,_t.call),e.next=160;break;case 159:e.prev=159,(Bt=e.catch(156))instanceof M?Be(Bt,i.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN):xe(i.VOICE_ERROR_TYPE.CAN_NOT_BARGE_IN_SUPERVISOR,Bt,i.VOICE_MESSAGE_TYPE.SUPERVISOR_BARGE_IN);case 160:return e.abrupt("continue",163);case 161:return Tt=t.data.agentWork,rt=Tt.workItemId,ot=Tt.workId,it=Tt.workEvent,y.onAgentWorkEvent({workItemId:rt,workId:ot,workEvent:it}),e.abrupt("continue",163);case 162:return e.abrupt("continue",163);case 163:case"end":return e.stop()}},e,null,[[1,7],[9,12],[14,18],[20,23],[25,28],[30,33],[38,41],[46,48],[53,55],[57,60],[66,69],[71,74],[76,78],[80,83],[85,88],[90,93],[98,101],[103,106],[108,110],[128,131],[133,136],[138,141],[145,149],[151,154],[156,159]])}))).apply(this,arguments)}function Ke(e){return qe.apply(this,arguments)}function qe(){return(qe=T(o().mark(function e(t){var E,n,a,_,T,r,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T=t.data.type,e.next=T===i.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR?1:9;break;case 1:if(E=/^https:\/\/[\w-.]+(lightning\.[\w]+\.soma\.force\.com|\.lightning\.force\.com|\.lightning\.pc-rnd\.force\.com|\.stm\.force\.com|\.vf\.force\.com|\.salesforce\.com|\.my\.salesforce-sites\.com|\.lightning\.localhost\.[\w]+\.force.com|\.lightning\.force-com\.[\w.-]+\.crm\.dev|\.[\w-]+\.(salesforce|crmforce)\.mil|\.lightning\.(salesforce|crmforce)\.mil|\.sandbox\.lightning\.(salesforce|crmforce)\.mil)$/,n=new URL(t.origin),a=n.protocol+"//"+n.hostname,!E.test(a)){e.next=8;break}return(g=t.ports[0]).onmessage=je,me(i.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR,Qe(t.data.connectorConfig),!1),e.prev=2,e.next=3,y.init(t.data.connectorConfig);case 3:_=e.sent,Ce.validateClassObject(_,Ee),_.showStorageAccess?Me(i.SHARED_EVENT_TYPE.SHOW_STORAGE_ACCESS,{success:!0}):_.showLogin?Me(i.SHARED_EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:_.loginFrameHeight}):_.isSilentLogin?Me(i.SHARED_EVENT_TYPE.SHOW_LOGIN,{isSilentLogin:_.isSilentLogin}):ke(),e.next=8;break;case 4:if(e.prev=4,!((r=e.catch(2))instanceof M)){e.next=5;break}Be(r,i.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.next=8;break;case 5:s=ge(r),e.next=s===i.VOICE_ERROR_TYPE.INVALID_PARAMS?6:7;break;case 6:return xe(i.VOICE_ERROR_TYPE.INVALID_PARAMS,He(r),i.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("continue",8);case 7:return xe(i.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,He(r),i.SHARED_MESSAGE_TYPE.SETUP_CONNECTOR),e.abrupt("continue",8);case 8:return window.removeEventListener("message",Ke),e.abrupt("continue",10);case 9:return e.abrupt("continue",10);case 10:case"end":return e.stop()}},e,null,[[2,4]])}))).apply(this,arguments)}function Qe(e){e=e||{};var t={};return s.forEach(function(E){e.hasOwnProperty(E)&&(t[E]=e[E])}),A.forEach(function(E){Object.keys(e).forEach(function(n){n.startsWith(E)&&!c.includes(n)&&(t[n]=e[n])})}),t}function Xe(e,t,E,n){try{return Ce.validateClassObject(e,t),!0}catch(e){return E&&xe(E,e,n),!1}}function Je(e){y=e,window.addEventListener("message",Ke)}function $e(e){me(e.eventType,e.payload,e.isError)}function ze(e){var t=e.eventType,E=e.error;if(E instanceof M)Be(E,t);else switch(t){case i.SHARED_EVENT_TYPE.LOGIN_RESULT:xe(i.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,E,i.SHARED_EVENT_TYPE.LOGIN_RESULT);break;case i.SHARED_EVENT_TYPE.LOGOUT_RESULT:xe(i.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,E,i.SHARED_EVENT_TYPE.LOGOUT_RESULT);break;case i.VOICE_EVENT_TYPE.CALL_STARTED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,i.VOICE_EVENT_TYPE.CALL_STARTED);break;case i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED);break;case i.VOICE_EVENT_TYPE.CALL_CONNECTED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,E,i.VOICE_EVENT_TYPE.CALL_CONNECTED);break;case i.VOICE_EVENT_TYPE.HANGUP:xe(i.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,E,i.VOICE_EVENT_TYPE.HANGUP);break;case i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED:xe(ge(E)===i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT:i.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,E,i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED);break;case i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,E,i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED);break;case i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,E,i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED);break;case i.VOICE_EVENT_TYPE.MUTE_TOGGLE:xe(i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,E,i.VOICE_EVENT_TYPE.MUTE_TOGGLE);break;case i.VOICE_EVENT_TYPE.HOLD_TOGGLE:xe(ge(E)===i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT?i.VOICE_ERROR_TYPE.INVALID_PARTICIPANT:i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,E,i.VOICE_EVENT_TYPE.HOLD_TOGGLE);break;case i.VOICE_EVENT_TYPE.RECORDING_TOGGLE:xe(i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,E,i.VOICE_EVENT_TYPE.RECORDING_TOGGLE);break;case i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,E,i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED);break;case i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,E,i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED);break;case i.VOICE_EVENT_TYPE.AGENT_ERROR:xe(i.VOICE_ERROR_TYPE.AGENT_ERROR,E,i.VOICE_EVENT_TYPE.AGENT_ERROR);break;case i.VOICE_EVENT_TYPE.SOFTPHONE_ERROR:switch(ge(E)){case i.VOICE_ERROR_TYPE.UNSUPPORTED_BROWSER:case i.VOICE_ERROR_TYPE.MICROPHONE_NOT_SHARED:case i.VOICE_ERROR_TYPE.USER_BUSY_ERROR:case i.VOICE_ERROR_TYPE.WEBRTC_ERROR:xe(ge(E),E,i.VOICE_EVENT_TYPE.SOFTPHONE_ERROR);break;default:xe(i.SHARED_ERROR_TYPE.GENERIC_ERROR,E,i.VOICE_EVENT_TYPE.SOFTPHONE_ERROR)}break;case i.VOICE_EVENT_TYPE.CALL_UPDATED:xe(i.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_CALL,E,i.VOICE_EVENT_TYPE.CALL_UPDATED);break;default:console.error("Unhandled error scenario with arguments ",arguments)}}function Ze(e){return et.apply(this,arguments)}function et(){return(et=T(o().mark(function e(t){var E,n,a,_,T,r,s,A,c,l,C,N,O,R,S,u,I,P,d,L,p,D,V,h,v,f,G,Y,b,U,g,m,M,x,B,F,j,W,K,q,J,$,te,Ee,ne;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E=t.eventType,n=t.payload,a=t.registerLog,_=void 0===a||a,ne=E,e.next=ne===i.SHARED_EVENT_TYPE.LOGIN_RESULT?1:ne===i.SHARED_EVENT_TYPE.LOGOUT_RESULT?2:ne===i.VOICE_EVENT_TYPE.CALL_STARTED?3:ne===i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED?4:ne===i.VOICE_EVENT_TYPE.CALL_CONNECTED?5:ne===i.VOICE_EVENT_TYPE.HANGUP?10:ne===i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED?11:ne===i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED?12:ne===i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED?13:ne===i.SHARED_EVENT_TYPE.MESSAGE?17:ne===i.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED?18:ne===i.VOICE_EVENT_TYPE.WRAP_UP_ENDED?19:ne===i.SHARED_EVENT_TYPE.REMOTE_CONTROLLER?20:ne===i.VOICE_EVENT_TYPE.MUTE_TOGGLE?21:ne===i.VOICE_EVENT_TYPE.HOLD_TOGGLE?22:ne===i.VOICE_EVENT_TYPE.RECORDING_TOGGLE?23:ne===i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED?24:ne===i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED?25:ne===i.VOICE_EVENT_TYPE.CALL_UPDATED?26:ne===i.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS?27:ne===i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN?28:ne===i.VOICE_EVENT_TYPE.CALL_BARGED_IN?29:ne===i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED?30:ne===i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED?31:ne===i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP?32:ne===i.SHARED_EVENT_TYPE.SET_AGENT_STATUS?33:ne===i.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW?34:ne===i.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT?35:ne===i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED?36:ne===i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED?37:ne===i.SHARED_EVENT_TYPE.GET_AGENT_STATUS?38:ne===i.SHARED_EVENT_TYPE.STATE_CHANGE?39:40;break;case 1:return Xe(n,ae,i.SHARED_ERROR_TYPE.CAN_NOT_LOG_IN,i.SHARED_EVENT_TYPE.LOGIN_RESULT)&&(Me(i.SHARED_EVENT_TYPE.LOGIN_RESULT,n,_),n.success&&ke()),e.abrupt("continue",40);case 2:return Xe(n,re,i.SHARED_ERROR_TYPE.CAN_NOT_LOG_OUT,i.SHARED_EVENT_TYPE.LOGOUT_RESULT)&&Me(i.SHARED_EVENT_TYPE.LOGOUT_RESULT,{success:n.success,loginFrameHeight:n.loginFrameHeight},_),e.abrupt("continue",40);case 3:return Xe(n,z,i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,i.VOICE_EVENT_TYPE.CALL_STARTED)&&Me(i.VOICE_EVENT_TYPE.CALL_STARTED,n.call,!0),e.abrupt("continue",40);case 4:return Xe(n,z,i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED)&&Me(i.VOICE_EVENT_TYPE.QUEUED_CALL_STARTED,n.call,!0),e.abrupt("continue",40);case 5:if(!Xe(n,z,i.VOICE_ERROR_TYPE.CAN_NOT_START_THE_CALL,i.VOICE_EVENT_TYPE.CALL_CONNECTED)){e.next=9;break}if(be(),!H){e.next=8;break}return e.next=6,y.getTelephonyConnector();case 6:return T=e.sent,e.next=7,T.supervisorDisconnect();case 7:return r=e.sent,Ce.validateClassObject(r,pe),H=!1,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,r,!0),Me(i.VOICE_EVENT_TYPE.CALL_CONNECTED,n.call,!0),e.abrupt("continue",40);case 8:Me(i.VOICE_EVENT_TYPE.CALL_CONNECTED,n.call,!0);case 9:return e.abrupt("continue",40);case 10:return Xe(n,Z,i.VOICE_ERROR_TYPE.CAN_NOT_END_THE_CALL,i.VOICE_EVENT_TYPE.HANGUP)&&Me(i.VOICE_EVENT_TYPE.HANGUP,n.calls,!0),e.abrupt("continue",40);case 11:return Xe(n,X,i.VOICE_ERROR_TYPE.CAN_NOT_ADD_PARTICIPANT,i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED)&&(s=n.contact,A=n.initialCallHasEnded,c=n.callInfo,l=n.callAttributes,C=n.phoneNumber,N=n.callId,O=n.connectionId,Me(i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED,{contact:s,initialCallHasEnded:A,callInfo:c,callAttributes:l,phoneNumber:C,callId:N,connectionId:O},!0)),e.abrupt("continue",40);case 12:return Xe(n,X,i.VOICE_ERROR_TYPE.CAN_NOT_CONNECT_PARTICIPANT,i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED)&&(R=n.initialCallHasEnded,S=n.callInfo,u=n.callAttributes,I=n.phoneNumber,P=n.callId,d=n.contact,L=n.connectionId,Me(i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:R,callInfo:S,callAttributes:u,phoneNumber:I,callId:P,contact:d,connectionId:L},!0)),e.abrupt("continue",40);case 13:if(!Xe(n,z,i.VOICE_ERROR_TYPE.CAN_NOT_HANGUP_PARTICIPANT,i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED)){e.next=16;break}return p=n.call,e.next=14,y.getTelephonyConnector();case 14:return D=e.sent,e.next=15,D.getActiveCalls();case 15:Xe(V=e.sent,k)&&(0===(h=V.activeCalls).length?Me(i.VOICE_EVENT_TYPE.HANGUP,p,!0):p&&p.callAttributes&&p.callType!==i.CALL_TYPE.CONSULT&&p.callAttributes.participantType===i.PARTICIPANT_TYPE.INITIAL_CALLER?Me(Object.values(h).filter(function(e){return e.callType===i.CALL_TYPE.ADD_PARTICIPANT}).pop().state===i.CALL_STATE.TRANSFERRING?i.VOICE_EVENT_TYPE.PARTICIPANT_ADDED:i.VOICE_EVENT_TYPE.PARTICIPANT_CONNECTED,{initialCallHasEnded:!0},!0):Me(i.VOICE_EVENT_TYPE.PARTICIPANT_REMOVED,{callId:p?p.callId:null,connectionId:p?p.connectionId:null,reason:p?p.reason:null},!0));case 16:return e.abrupt("continue",40);case 17:return Me(i.SHARED_EVENT_TYPE.MESSAGE,n,_),e.abrupt("continue",40);case 18:return Me(i.VOICE_EVENT_TYPE.AFTER_CALL_WORK_STARTED,n,_),e.abrupt("continue",40);case 19:return Me(i.VOICE_EVENT_TYPE.WRAP_UP_ENDED,n,_),e.abrupt("continue",40);case 20:return je(n),e.abrupt("continue",40);case 21:return Xe(n,w,i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_MUTE,i.VOICE_EVENT_TYPE.MUTE_TOGGLE)&&Me(i.VOICE_EVENT_TYPE.MUTE_TOGGLE,n,_),e.abrupt("continue",40);case 22:return v=n.isThirdPartyOnHold,f=n.isCustomerOnHold,G=n.calls,Y=n.isCallMerged,Xe(n,ee,i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_HOLD,i.VOICE_EVENT_TYPE.HOLD_TOGGLE)&&Me(i.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:v,isCustomerOnHold:f,calls:G,isCallMerged:Y},_),e.abrupt("continue",40);case 23:return b=n.isRecordingPaused,U=n.contactId,g=n.initialContactId,m=n.instanceId,M=n.region,Xe(n,Q,i.VOICE_ERROR_TYPE.CAN_NOT_TOGGLE_RECORD,i.VOICE_EVENT_TYPE.RECORDING_TOGGLE)&&Me(i.VOICE_EVENT_TYPE.RECORDING_TOGGLE,{isRecordingPaused:b,contactId:U,initialContactId:g,instanceId:m,region:M},_),e.abrupt("continue",40);case 24:return Xe(n,ee,i.VOICE_ERROR_TYPE.CAN_NOT_SWAP_PARTICIPANTS,i.VOICE_EVENT_TYPE.PARTICIPANTS_SWAPPED)&&(x=n.isThirdPartyOnHold,B=n.isCustomerOnHold,F=n.calls,Me(i.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:x,isCustomerOnHold:B,calls:F},!0)),e.abrupt("continue",40);case 25:return Xe(n,ee,i.VOICE_ERROR_TYPE.CAN_NOT_CONFERENCE,i.VOICE_EVENT_TYPE.PARTICIPANTS_CONFERENCED)&&(j=n.isThirdPartyOnHold,W=n.isCustomerOnHold,K=n.calls,q=n.isCallMerged,Me(i.VOICE_EVENT_TYPE.HOLD_TOGGLE,{isThirdPartyOnHold:j,isCustomerOnHold:W,isCallMerged:q,calls:K},!0)),e.abrupt("continue",40);case 26:return Xe(n,z,i.VOICE_ERROR_TYPE.CAN_NOT_UPDATE_CALL,i.VOICE_EVENT_TYPE.CALL_UPDATED)&&Me(i.VOICE_EVENT_TYPE.CALL_UPDATED,n,_),e.abrupt("continue",40);case 27:return Xe(n,Ie)&&(n.stats&&(Ue(n.stats),J=n.callId?{stats:n.stats,callId:n.callId}:{stats:n.stats},Me(i.VOICE_EVENT_TYPE.AUDIO_STATS,{audioStats:J},_)),n.isAudioStatsCompleted&&n.callId&&($=n.callId,te=Ye(),Me(i.VOICE_EVENT_TYPE.UPDATE_AUDIO_STATS_COMPLETED,{callId:$,mos:te},_))),e.abrupt("continue",40);case 28:return Xe(n,Le,i.VOICE_ERROR_TYPE.CAN_NOT_BARGE_IN_SUPERVISOR,i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN)&&Me(i.VOICE_EVENT_TYPE.SUPERVISOR_BARGED_IN,n.call,!0),e.abrupt("continue",40);case 29:return Xe(n,ue,i.SHARED_ERROR_TYPE.GENERIC_ERROR,i.VOICE_EVENT_TYPE.CALL_BARGED_IN)&&Me(i.VOICE_EVENT_TYPE.CALL_BARGED_IN,n,!0),e.abrupt("continue",40);case 30:return Xe(n,Le,i.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED)&&(H=!0,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_STARTED,n.call,!0)),e.abrupt("continue",40);case 31:return Xe(n,Le,i.VOICE_ERROR_TYPE.CAN_NOT_SUPERVISE_CALL,i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED)&&(H=!0,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_CALL_CONNECTED,n.call,!0)),e.abrupt("continue",40);case 32:return Xe(n,pe,i.VOICE_ERROR_TYPE.CAN_NOT_DISCONNECT_SUPERVISOR,i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP)&&(H=!1,Me(i.VOICE_EVENT_TYPE.SUPERVISOR_HANGUP,n.calls,!0)),e.abrupt("continue",40);case 33:return Xe(n,Oe,i.SHARED_ERROR_TYPE.CAN_NOT_SET_AGENT_STATUS,i.SHARED_EVENT_TYPE.SET_AGENT_STATUS)&&(Ee=n.statusId,Me(i.SHARED_EVENT_TYPE.SET_AGENT_STATUS,{statusId:Ee},_)),e.abrupt("continue",40);case 34:return Me(i.VOICE_EVENT_TYPE.SHOW_TRANSFER_VIEW,n),e.abrupt("continue",40);case 35:return Xe(n,De,i.SHARED_ERROR_TYPE.INVALID_STORAGE_ACCESS_RESULT,i.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT)&&(Me(i.SHARED_EVENT_TYPE.STORAGE_ACCESS_RESULT,n),n.success&&(n.showLogin?Me(i.SHARED_EVENT_TYPE.SHOW_LOGIN,{loginFrameHeight:n.loginFrameHeight},_):ke())),e.abrupt("continue",40);case 36:return Xe(n,he,i.SHARED_ERROR_TYPE.INVALID_ACW_INFO,i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED)&&Me(i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_STARTED,n,_),e.abrupt("continue",40);case 37:return Xe(n,he,i.SHARED_ERROR_TYPE.INVALID_ACW_INFO,i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED)&&Me(i.SHARED_EVENT_TYPE.AFTER_CONVERSATION_WORK_ENDED,n,_),e.abrupt("continue",40);case 38:return Xe(n,Re,i.SHARED_ERROR_TYPE.CAN_NOT_GET_AGENT_STATUS,i.SHARED_EVENT_TYPE.GET_AGENT_STATUS)&&Me(i.SHARED_EVENT_TYPE.GET_AGENT_STATUS,n,_),e.abrupt("continue",40);case 39:return Xe(n,Se,i.SHARED_ERROR_TYPE.INVALID_STATE_CHANGE_RESULT,i.SHARED_EVENT_TYPE.STATE_CHANGE)&&Me(i.SHARED_EVENT_TYPE.STATE_CHANGE,n),e.abrupt("continue",40);case 40:case"end":return e.stop()}},e)}))).apply(this,arguments)}})(),n})());
//# sourceMappingURL=scv-connector-base.js.map